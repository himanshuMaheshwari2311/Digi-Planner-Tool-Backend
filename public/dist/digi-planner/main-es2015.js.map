{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/admin-board services/admin-board.service.ts","./src/app/admin-board/admin-board.component.ts","./src/app/admin-board/admin-board.component.html","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/board.service.ts","./src/app/constants.ts","./src/app/create-board-dialog/create-board-dialog.component.ts","./src/app/create-board-dialog/create-board-dialog.component.html","./src/app/home/home.component.ts","./src/app/home/home.component.html","./src/app/join-room-dialog/join-room-dialog.component.ts","./src/app/join-room-dialog/join-room-dialog.component.html","./src/app/login/login.component.ts","./src/app/login/login.component.html","./src/app/material.module.ts","./src/app/socket-services/socket.service.ts","./src/app/socket-services/user-socket.service.ts","./src/app/user-board-services/constants.service.ts","./src/app/user-board-services/group.service.ts","./src/app/user-board-services/scaling.service.ts","./src/app/user-board-services/shape.service.ts","./src/app/user-board-services/user-database.service.ts","./src/app/user-board/user-board.component.ts","./src/app/user-board/user-board.component.html","./src/app/user.service.ts","./src/app/view-boards/view-boards.component.ts","./src/app/view-boards/view-boards.component.html","./src/environments/environment.ts","./src/main.ts","jsdom (ignored)","jsdom/lib/jsdom/living/generated/utils (ignored)","jsdom/lib/jsdom/utils (ignored)","ws (ignored)"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,wE;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAA2C;;;AAWpC,MAAM,iBAAiB;IAI5B,YAAoB,IAAe;QAAf,SAAI,GAAJ,IAAI,CAAW;IAAI,CAAC;IAExC,WAAW,CAAC,MAAM,EAAC,QAAQ,EAAC,MAAM;QAEhC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QAErB,MAAM,IAAI,GAAc;YACtB,MAAM,EAAG,IAAI,CAAC,MAAM;YACpB,YAAY,EAAG,MAAM;SACtB,CAAC;QAEF,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,6BAA6B,MAAM,IAAI,QAAQ,EAAE,EAAG,IAAI,EAAG,EAAC,YAAY,EAAC,MAAM,EAAC,CAAC,CAAC;IAEzG,CAAC;;kFAjBU,iBAAiB;oGAAjB,iBAAiB,WAAjB,iBAAiB,mBAFhB,MAAM;6FAEP,iBAAiB;cAH7B,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACVD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AAClB;;;;;;;;;;ICqCtB,2EAAiE;IAAA,+DAAI;IAAA,4DAAW;;IAAvC,2EAAuB;;;;IAFpE,sEACE;IAAA,6EACE;IADoF,kWAA4B;IAChH,iIAAiE;IACnE,4DAAS;IACX,4DAAM;;;;IAHiC,0DAAe;IAAf,kEAAe;IAA/B,sFAAe;IACxB,0DAA8B;IAA9B,kGAA8B;;ADzB3C,MAAM,mBAAmB;IAc9B,YACU,KAAqB,EACrB,iBAAoC,EACpC,QAAkB,EAClB,WAAuB,EACvB,QAAqB;QAJrB,UAAK,GAAL,KAAK,CAAgB;QACrB,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,aAAQ,GAAR,QAAQ,CAAU;QAClB,gBAAW,GAAX,WAAW,CAAY;QACvB,aAAQ,GAAR,QAAQ,CAAa;QAjB/B,UAAK,GAAG,YAAY,CAAC;QAKrB,WAAM,GAAG,CAAC,MAAM,EAAE,YAAY,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;QAK5E,eAAU,GAAW,EAAE,CAAC;IAQrB,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,MAAM,GAAG,IAAI,6CAAM,CAAC,MAAM,CAAC,QAAQ,EAAE;YACxC,eAAe,EAAE,OAAO;YACxB,aAAa,EAAE,KAAK;SACrB,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QAC3B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC3B,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC;QAE5B,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;YAC1C,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;YACnC,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YAC5C,IAAI,CAAC,WAAW,GAAC,IAAI,CAAC;YACtB,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;QACrC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,eAAe;QACb,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;QAC/C,IAAI,CAAC,iBAAiB;aACnB,WAAW,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC;aAC7D,SAAS,CAAC,CAAC,YAAY,EAAE,EAAE;YAC1B,IAAI,CAAC,YAAY,CAAE,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,EAAG,IAAI,CAAE,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACvB,CAAC;IAED,YAAY,CAAC,OAAe,EAAE,MAAc;QAC1C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,EAAE;YAClC,QAAQ,EAAE,IAAI;SACf,CAAC,CAAC;IACL,CAAC;IAED,SAAS;QACP,IAAI,CAAC,MAAM,CAAC,aAAa,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC;IACzD,CAAC;IAED,MAAM;QACJ,6CAAM,CAAC,KAAK,CAAC,OAAO,CAAC,6BAA6B,EAAE,CAAC,GAAG,EAAE,EAAE;YAC1D,MAAM,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC;YAC9B,GAAG,CAAC,GAAG,CAAC;gBACN,kBAAkB,EAAE,KAAK;gBACzB,GAAG,EAAE,EAAE;gBACP,IAAI,EAAE,EAAE;gBACR,MAAM,EAAE,KAAK;gBACb,MAAM,EAAE,KAAK;aACd,CAAC,CAAC;YACH,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,aAAa,GAAG,KAAK,CAAC;IACpC,CAAC;IAED,KAAK;QACH,6CAAM,CAAC,KAAK,CAAC,OAAO,CAAC,4BAA4B,EAAE,CAAC,GAAG,EAAE,EAAE;YACzD,MAAM,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC;YAC9B,GAAG,CAAC,GAAG,CAAC;gBACN,GAAG,EAAE,EAAE;gBACP,IAAI,EAAE,EAAE;gBACR,MAAM,EAAE,KAAK;gBACb,MAAM,EAAE,KAAK;aACd,CAAC,CAAC;YACH,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,aAAa,GAAG,KAAK,CAAC;IACpC,CAAC;IAED,KAAK;QACH,IAAI,OAAO,CAAC,wCAAwC,CAAC,EAAE;YACrD,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;YACpB,IAAI,CAAC,MAAM,CAAC,aAAa,GAAG,KAAK,CAAC;SACnC;IACH,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,MAAM,CAAC,aAAa,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,MAAM,CAAC,GAAG,CACb,IAAI,6CAAM,CAAC,MAAM,CAAC;YAChB,MAAM,EAAE,EAAE;YACV,IAAI,EAAE,IAAI,CAAC,aAAa;YACxB,IAAI,EAAE,EAAE;YACR,GAAG,EAAE,EAAE;SACR,CAAC,CACH,CAAC;IACJ,CAAC;IAED,GAAG;QACD,IAAI,CAAC,MAAM,CAAC,aAAa,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,MAAM,CAAC,GAAG,CACb,IAAI,6CAAM,CAAC,IAAI,CAAC;YACd,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,IAAI,EAAE,IAAI,CAAC,aAAa;YACxB,IAAI,EAAE,EAAE;YACR,GAAG,EAAE,EAAE;SACR,CAAC,CACH,CAAC;IACJ,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,MAAM,CAAC,aAAa,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,MAAM,CAAC,GAAG,CACb,IAAI,6CAAM,CAAC,QAAQ,CAAC;YAClB,KAAK,EAAE,EAAE;YACT,MAAM,EAAE,EAAE;YACV,IAAI,EAAE,IAAI,CAAC,aAAa;YACxB,IAAI,EAAE,EAAE;YACR,GAAG,EAAE,EAAE;SACR,CAAC,CACH,CAAC;IACJ,CAAC;IAED,OAAO;QACL,IAAI,CAAC,MAAM,CAAC,aAAa,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,MAAM,CAAC,GAAG,CACb,IAAI,6CAAM,CAAC,OAAO,CAAC,QAAQ,EAAE;YAC3B,KAAK,EAAE,GAAG;YACV,GAAG,EAAE,CAAC;YACN,IAAI,EAAE,CAAC;YACP,MAAM,EAAE,IAAI,CAAC,aAAa;YAC1B,QAAQ,EAAE,EAAE;YACZ,UAAU,EAAE,SAAS;YACrB,SAAS,EAAE,QAAQ;SACpB,CAAC,CACH,CAAC;IACJ,CAAC;IAED,WAAW,CAAC,KAAK;QACf,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IAC7B,CAAC;IAED,aAAa;QACX,IAAI,CAAC,MAAM,CAAC,aAAa,GAAG,KAAK,CAAC;QAClC,IAAI,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC;QAClD,IAAI,YAAY,EAAE;YAChB,IAAI,OAAO,CAAC,mCAAmC,CAAC,EAAE;gBAChD,YAAY,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;oBAC9B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAC7B,CAAC,CAAC,CAAC;aACJ;YACD,IAAI,CAAC,MAAM,CAAC,mBAAmB,EAAE,CAAC;SACnC;IACH,CAAC;;sFAxKU,mBAAmB;mGAAnB,mBAAmB;QCbhC,yEAEE;QAAA,yEAEE;QAAA,yEAAmB;QAAA,uDAAc;QAAA,4DAAM;QAEvC,yEACE;QAAA,4EACE;QADkC,2IAAS,eAAW,IAAC;QACvD,2EAAU;QAAA,+DAAI;QAAA,4DAAW;QAC3B,4DAAS;QACT,4EACE;QADmD,2IAAS,SAAK,IAAC;QAClE,2EAAU;QAAA,oEAAQ;QAAA,4DAAW;QAC/B,4DAAS;QACT,6EACE;QADqC,4IAAS,YAAQ,IAAC;QACvD,4EAAU;QAAA,wEAAY;QAAA,4DAAW;QACnC,4DAAS;QACT,6EACE;QADuC,4IAAS,cAAU,IAAC;QAC3D,4EAAU;QAAA,0EAAc;QAAA,4DAAW;QACrC,4DAAS;QACT,6EACE;QAD0C,4IAAS,WAAO,IAAC;QAC3D,4EAAU;QAAA,uEAAW;QAAA,4DAAW;QAClC,4DAAS;QACT,6EACE;QADyC,4IAAS,YAAQ,IAAC;QAC3D,4EAAU;QAAA,+EAAmB;QAAA,4DAAW;QAC1C,4DAAS;QACT,8EACE;QADsC,4IAAS,aAAS,IAAC;QACzD,4EAAU;QAAA,8EAAkB;QAAA,4DAAW;QACzC,4DAAS;QAEX,4DAAM;QAER,4DAAM;QAEN,2EAEE;QAAA,2EACE;QAAA,kHACE;QAIJ,4DAAM;QAEN,yEAA6B;QAE7B,2EACE;QAAA,8EACE;QADgD,4IAAS,WAAO,IAAC;QACjE,4EAAU;QAAA,mFAAuB;QAAA,4DAAW;QAC9C,4DAAS;QACT,8EACE;QAD6B,4IAAS,mBAAe,IAAC;QACtD,4EAAU;QAAA,0EAAc;QAAA,4DAAW;QACrC,4DAAS;QACT,8EACE;QADwD,4IAAS,qBAAiB,IAAC;QACnF,4EAAU;QAAA,gEAAI;QAAA,4DAAW;QAC3B,4DAAS;QACX,4DAAM;QACR,4DAAM;QAER,4DAAM;;QAtDiB,0DAAc;QAAd,+EAAc;QAgC1B,2DAA6B;QAA7B,+EAA6B;;6FDvB3B,mBAAmB;cAL/B,uDAAS;eAAC;gBACT,QAAQ,EAAE,iBAAiB;gBAC3B,WAAW,EAAE,8BAA8B;gBAC3C,SAAS,EAAE,CAAC,6BAA6B,CAAC;aAC3C;;;;;;;;;;;;;;AEZD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACc;AACE;AACH;AACiB;AACG;AACA;;;AAE1E,MAAM,MAAM,GAAW;IACrB,EAAE,IAAI,EAAC,OAAO,EAAE,SAAS,EAAE,qEAAc,EAAE;IAC3C,EAAE,IAAI,EAAC,MAAM,EAAE,SAAS,EAAE,kEAAa,EAAE;IACzC,EAAE,IAAI,EAAC,WAAW,EAAE,SAAS,EAAE,mFAAkB,EAAE;IACnD,EAAE,IAAI,EAAC,YAAY,EAAE,SAAS,EAAE,sFAAmB,EAAE;IACrD,EAAE,IAAI,EAAC,WAAW,EAAE,SAAS,EAAE,sFAAmB,EAAC;IACnD,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAC,QAAQ,EAAE,SAAS,EAAE,MAAM,EAAE;CACrD,CAAC;AAMK,MAAM,gBAAgB;;+FAAhB,gBAAgB;0JAAhB,gBAAgB,kBAHlB,CAAC,4DAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAC7B,4DAAY;mIAEX,gBAAgB,uFAFjB,4DAAY;6FAEX,gBAAgB;cAJ5B,sDAAQ;eAAC;gBACR,OAAO,EAAE,CAAC,4DAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;gBACvC,OAAO,EAAE,CAAC,4DAAY,CAAC;aACxB;;;;;;;;;;;;;;ACpBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;;;;;;;;;ICIhD,0EAA8C;IAAA,uDAAqB;IAAA,4DAAO;;;IAA5B,0DAAqB;IAArB,yFAAqB;;;;IACnE,4EACE;IAAA,yEACF;IADwD,8SAAmB;IAAzE,4DACF;IAAA,4DAAS;;ADEJ,MAAM,YAAY;IAIvB,YAAoB,WAAuB,EAAS,MAAa;QAA7C,gBAAW,GAAX,WAAW,CAAY;QAAS,WAAM,GAAN,MAAM,CAAO;QAHjE,UAAK,GAAU,cAAc,CAAC;IAK9B,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YAC5C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QAC1B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,OAAO;QACL,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,QAAQ;QACN,IAAG,IAAI,CAAC,WAAW,EAAC;YAChB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;SACnC;aAAI;YACH,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YAC7B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;SAClC;IACH,CAAC;;wEAzBU,YAAY;4FAAZ,YAAY;QCTzB,8EACE;QAAA,oEACA;QAAA,0EAA4C;QAAxB,kIAAS,cAAU,IAAC;QAAI,uEAAW;QAAA,4DAAO;QAC9D,qEAA4B;QAC5B,0GAA8C;QAC9C,8GACE;QAEJ,4DAAc;QAEd,2EAA+B;;QANH,0DAAmB;QAAnB,iFAAmB;QACrC,0DAAmB;QAAnB,iFAAmB;;6FDIhB,YAAY;cALxB,uDAAS;eAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,WAAW,EAAE,sBAAsB;gBACnC,SAAS,EAAE,CAAC,qBAAqB,CAAC;aACnC;;;;;;;;;;;;;;AERD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACjB;AAEM;AACU;AACiB;AACH;AACQ;AAEZ;AACrB;AAE+B;AACjB;AAEJ;AACF;AACkC;AACd;AACuB;AACzC;AACxD,kEAAkE;AAE3B;;AAGvC,MAAM,MAAM,GAAG,IAAI,uEAAiB,CAAC;IACnC;QACE,EAAE,EAAE,yEAAmB,CAAC,WAAW;QACnC,QAAQ,EAAE,IAAI,yEAAmB,CAAC,oDAAQ,CAAC;KAC5C;CACF,CAAC,CAAC;AAEH,sFAAsF;AAE/E,SAAS,aAAa;IAC3B,OAAO,MAAM,CAAC;AAChB,CAAC;AAqCM,MAAM,SAAS;;wFAAT,SAAS,cAFR,2DAAY;4IAEb,SAAS,mBATT;QACT,+EAAY;QACZ;YACE,OAAO,EAAE,uEAAiB;YAC1B,UAAU,EAAE,aAAa;SAC1B;KACF,YArBQ;YACP,uEAAa;YACb,4FAAuB;YACvB,sEAAgB;YAChB,uEAAiB;YACjB,4FAAuB;YACvB,0DAAS;YACT,qEAAgB;YAChB,sEAAgB;SAEjB;mIAcU,SAAS,mBAjClB,2DAAY;QACZ,qEAAc;QACd,sFAAmB;QACnB,mFAAkB;QAClB,mEAAa;QACb,qGAAuB;QACvB,uFAAmB;QACnB,8GAA0B,aAG1B,uEAAa;QACb,4FAAuB;QACvB,sEAAgB;QAChB,uEAAiB;QACjB,4FAAuB;QACvB,0DAAS;QACT,qEAAgB;QAChB,sEAAgB;6FAgBP,SAAS;cAnCrB,sDAAQ;eAAC;gBACR,YAAY,EAAE;oBACZ,2DAAY;oBACZ,qEAAc;oBACd,sFAAmB;oBACnB,mFAAkB;oBAClB,mEAAa;oBACb,qGAAuB;oBACvB,uFAAmB;oBACnB,8GAA0B;iBAC3B;gBACD,OAAO,EAAE;oBACP,uEAAa;oBACb,4FAAuB;oBACvB,sEAAgB;oBAChB,uEAAiB;oBACjB,4FAAuB;oBACvB,0DAAS;oBACT,qEAAgB;oBAChB,sEAAgB;iBAEjB;gBACD,eAAe,EAAE;oBACf,qGAAuB;oBACvB,8GAA0B;iBAC3B;gBACD,SAAS,EAAE;oBACT,+EAAY;oBACZ;wBACE,OAAO,EAAE,uEAAiB;wBAC1B,UAAU,EAAE,aAAa;qBAC1B;iBACF;gBACD,SAAS,EAAE,CAAC,2DAAY,CAAC;aAC1B;;;;;;;;;;;;;;ACzED;AAAA;AAAA;AAAA;AAAA;AAA2C;AAET;;;AAM3B,MAAM,YAAY;IAEvB,YAAoB,IAAe;QAAf,SAAI,GAAJ,IAAI,CAAW;IAAI,CAAC;IAExC,OAAO,CAAC,MAAa,EAAC,SAAgB;QACpC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,8CAAG,SAAS,MAAM,IAAI,SAAS,EAAE,CAAC,CAAC;IAC7D,CAAC;IAED,WAAW,CAAC,SAAgB,EAAC,WAAkB,EAAC,MAAa;QAC5D,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,8CAAG,UAAU,MAAM,IAAI,SAAS,EAAE,EAAC,EAAC,UAAU,EAAE,WAAW,EAAC,CAAC,CAAC;IACxF,CAAC;IAED,aAAa,CAAC,SAAgB,EAAC,MAAa;QAC1C,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,8CAAG,SAAS,MAAM,IAAI,SAAS,EAAE,EAAC,EAAE,CAAC,CAAC;IACjE,CAAC;IAED,SAAS,CAAC,MAAa;QACrB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,8CAAG,SAAS,MAAM,EAAE,CAAC,CAAC;IAChD,CAAC;;wEAlBU,YAAY;+FAAZ,YAAY,WAAZ,YAAY,mBAFX,MAAM;6FAEP,YAAY;cAHxB,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACPD;AAAA;AAAA;AAAA,MAAM,IAAI,GAAU,MAAM,CAAC;AAC3B,MAAM,GAAG,GAAU,kBAAkB,IAAI,EAAE,CAAC;AAC5C,mGAAmG;AACnG,MAAM,QAAQ,GAAU,0EAA0E,CAAC;AAC7E;;;;;;;;;;;;;ACJtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACc;;;;;;;;;;ICSxE,uEAAmC;IAAA,iFAAsB;IAAA,4DAAI;;ADDtD,MAAM,0BAA0B;IAKrC,YAA4C,IAAQ,EAC3C,SAAkD,EACjD,YAAyB;QAFS,SAAI,GAAJ,IAAI,CAAI;QAC3C,cAAS,GAAT,SAAS,CAAyC;QACjD,iBAAY,GAAZ,YAAY,CAAa;QANnC,YAAO,GAAW,KAAK,CAAC;QACxB,kBAAa,GAAS,IAAI,CAAC;QAC3B,oBAAe,GAAS,IAAI,CAAC;IAM7B,CAAC;IAED,QAAQ;IACR,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;IACzB,CAAC;IAED,aAAa,CAAC,UAAiB;QAC7B,IAAI,CAAC,eAAe,GAAG,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;IACnD,CAAC;IACD,gBAAgB,CAAC,QAAe;QAC9B,IAAG,QAAQ,IAAI,QAAQ,CAAC,MAAM,IAAE,CAAC,EAAC;YAChC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;gBACxE,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;gBACjC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC7B,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;gBACN,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC7B,CAAC,CACA,CAAC;SACH;aAAI;YACH,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,aAAa,GAAC,IAAI,CAAC;SACzB;IAEH,CAAC;;oGArCU,0BAA0B,kEAKjB,wEAAe;0GALxB,0BAA0B;QCTvC,wEAAqB;QAAA,+EAAoB;QAAA,4DAAK;QAC9C,iFACI;QAAA,4EAAW;QAAA,6EAAkB;QAAA,4DAAY;QACzC,2EACF;QADkB,uMAA6B,yFAAU,sCAA8B,IAAxC;QAA7C,4DACF;QAAA,4DAAiB;QACjB,gEACF;QAAA,iFACI;QAAA,4EAAW;QAAA,6FAAkC;QAAA,4DAAY;QACzD,4EACJ;QADoB,sMAA2B,0FAAU,uCAA+B,IAAzC;QAA3C,4DACJ;QAAA,4DAAiB;QACjB,oHAAmC;QACnC,sFACI;QAAA,6EAAyC;QAAtB,mJAAS,cAAU,IAAC;QAAE,kEAAM;QAAA,4DAAS;QACxD,6EAAuG;QAAA,kEAAM;QAAA,4DAAS;QAC1H,4DAAqB;;QAXD,0DAA6B;QAA7B,wFAA6B;QAK7B,0DAA2B;QAA3B,sFAA2B;QAE5C,0DAAe;QAAf,6EAAe;QAGM,0DAAyB;QAAzB,sFAAyB;;6FDJpC,0BAA0B;cALtC,uDAAS;eAAC;gBACT,QAAQ,EAAE,yBAAyB;gBACnC,WAAW,EAAE,sCAAsC;gBACnD,SAAS,EAAE,CAAC,qCAAqC,CAAC;aACnD;;sBAMc,oDAAM;uBAAC,wEAAe;;;;;;;;;;;;;;AEdrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AAGuC;AACS;;;;;;;;;;;;;ICG1F,4EACI;IAD4C,sTAAuB;IACnE,oEACA;IAAA,6EACJ;IAAA,4DAAS;;;;IAET,4EACI;IADsD,oTAAqB;IAC3E,oEACA;IAAA,uEACJ;IAAA,4DAAS;;;;IAET,4EACI;IADsD,qTAAqB;IAC3E,oEACA;IAAA,iFACJ;IAAA,4DAAS;;ADJV,MAAM,aAAa;IAKxB,YAAoB,KAAoB,EAC5B,MAAgB,EAChB,QAAoB,EACpB,MAAa,EACb,WAAuB,EACvB,YAAyB,EACzB,WAAuB;QANf,UAAK,GAAL,KAAK,CAAe;QAC5B,WAAM,GAAN,MAAM,CAAU;QAChB,aAAQ,GAAR,QAAQ,CAAY;QACpB,WAAM,GAAN,MAAM,CAAO;QACb,gBAAW,GAAX,WAAW,CAAY;QACvB,iBAAY,GAAZ,YAAY,CAAa;QACzB,gBAAW,GAAX,WAAW,CAAY;QAVnC,YAAO,GAAW,KAAK,CAAC;QACxB,WAAM,GAAW,KAAK,CAAC;QAUrB,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,WAAW,GAAC,GAAG,CAAC;IACnC,CAAC;IAEF,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YAC5C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAG,CAAC,IAAI,CAAC,WAAW,EAAC;gBACnB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;aAClC;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;oBACxE,IAAG,MAAM,CAAC,SAAS,CAAC,EAAE;wBACpB,IAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;wBAC1B,IAAI,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC;wBACzD,IAAI,CAAC,OAAO,GAAG,QAAQ,KAAK,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;wBACnD,IAAI,CAAC,MAAM,GAAG,QAAQ,KAAK,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;qBAClD;gBACH,CAAC,CAAC,CAAC;aACJ;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,6GAA0B,EAAC;YAC1D,IAAI,EAAC,EAAC,UAAU,EAAC,IAAI,EAAC,QAAQ,EAAC,IAAI,EAAC,MAAM,EAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAC;SACnE,CAAC,CAAC;QAEH,SAAS,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;YAC3C,IAAG,MAAM,IAAI,MAAM,CAAC,QAAQ,IAAI,MAAM,CAAC,UAAU,EAAE;gBACjD,IAAI,QAAQ,GAAQ,MAAM,CAAC,QAAQ,CAAC;gBACpC,IAAI,UAAU,GAAQ,MAAM,CAAC,UAAU,CAAC;gBAExC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,QAAQ,EAAC,UAAU,EAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;oBAC7F,IAAG,MAAM,CAAC,SAAS,CAAC,KAAK,IAAI,EAAE;wBAC7B,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAC,IAAI,CAAC,CAAC;wBACzC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,EAAC;4BACnC,WAAW,EAAC,EAAC,QAAQ,EAAC,QAAQ,EAAE,UAAU,EAAC,UAAU,EAAC;yBACvD,CAAC,CAAC;qBACJ;yBAAM;wBACL,IAAI,CAAC,YAAY,CAAC,sBAAsB,EAAC,QAAQ,CAAC,CAAC;qBACpD;gBACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;oBACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACnB,CAAC,CACA,CAAC;aACH;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,SAAS;QACP,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,oGAAuB,EAAC;YACvD,IAAI,EAAC,EAAC,QAAQ,EAAC,IAAI,EAAC,MAAM,EAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAC;SACnD,CAAC,CAAC;QACH,SAAS,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;YAC3C,IAAG,MAAM,EAAE;gBACT,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,MAAM,EAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;oBACjF,IAAG,KAAK,CAAC,SAAS,CAAC,EAAC;wBAClB,IAAI,CAAC,YAAY,CAAC,kBAAkB,EAAC,IAAI,CAAC,CAAC;wBAC3C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,EAAC,EAAC,WAAW,EAAC,EAAC,SAAS,EAAC,MAAM,EAAC,EAAC,CAAC,CAAC;qBACvE;yBAAI;wBACH,IAAI,CAAC,YAAY,CAAC,qBAAqB,EAAC,QAAQ,CAAC,CAAC;qBACnD;gBACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;oBACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACjB,IAAI,CAAC,YAAY,CAAC,qBAAqB,EAAC,QAAQ,CAAC,CAAC;gBACpD,CAAC,CACA,CAAC;aACH;iBAAM;gBACL,IAAI,CAAC,YAAY,CAAC,oCAAoC,EAAC,QAAQ,CAAC,CAAC;aAClE;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,YAAY,CAAC,OAAc,EAAC,MAAa;QACvC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAC,MAAM,EAAC;YAChC,QAAQ,EAAC,IAAI;SACd,CAAC,CAAC;IACL,CAAC;IAED,SAAS;QACP,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;IACvC,CAAC;;0EA9FU,aAAa;6FAAb,aAAa;QCf1B,mFACI;QAAA,mFACI;QAAA,oEACJ;QAAA,4DAAgB;QAChB,mFACI;QAAA,sEACA;QAAA,+GACI;QAGJ,gEAAI;QAAA,gEACJ;QAAA,+GACI;QAGJ,gEAAI;QAAA,iEACJ;QAAA,iHACI;QAGJ,4DAAM;QACV,4DAAgB;QACpB,4DAAgB;QAChB,4EAA+B;;QAvBP,8EAAiB;QAMD,0DAAe;QAAf,6EAAe;QAKf,0DAAyB;QAAzB,2FAAyB;QAKzB,0DAAyB;QAAzB,2FAAyB;;6FDDpD,aAAa;cALzB,uDAAS;eAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,WAAW,EAAE,uBAAuB;gBACpC,SAAS,EAAE,CAAC,sBAAsB,CAAC;aACpC;;;;;;;;;;;;;;AEfD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACc;;;;;;;;;;ICIxE,uEAAoC;IAAA,uDAAW;IAAA,4DAAI;;;IAAf,0DAAW;IAAX,+EAAW;;ADIxC,MAAM,uBAAuB;IAIlC,YAA4C,IAAQ,EAC3C,SAA+C,EAC9C,YAAyB;QAFS,SAAI,GAAJ,IAAI,CAAI;QAC3C,cAAS,GAAT,SAAS,CAAsC;QAC9C,iBAAY,GAAZ,YAAY,CAAa;QALnC,YAAO,GAAW,IAAI,CAAC;QACvB,kBAAa,GAAW,IAAI,CAAC;QAC7B,YAAO,GAAQ,EAAE,CAAC;IAKlB,CAAC;IAED,QAAQ;IACR,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;IACzB,CAAC;IAED,gBAAgB,CAAC,QAAe;QAC9B,IAAG,QAAQ,IAAI,QAAQ,CAAC,MAAM,IAAE,CAAC,EAAC;YAChC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;gBACxE,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACpB,IAAG,MAAM,CAAC,SAAS,CAAC,EAAC;oBACnB,IAAG,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,kCAAkC,EAAC;wBAC9D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;qBACrB;yBAAI;wBACH,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;wBACrB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;qBACtC;iBACF;qBAAI;oBACH,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;oBACrB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;iBACtC;gBACD,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC7B,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;gBACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,IAAI,CAAC,OAAO,GAAG,0BAA0B,CAAC;YAC5C,CAAC,CACA,CAAC;SACH;aAAI;YACH,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,aAAa,GAAC,IAAI,CAAC;SACzB;IACH,CAAC;;8FA5CU,uBAAuB,kEAId,wEAAe;uGAJxB,uBAAuB;QCTpC,wEAAqB;QAAA,oEAAS;QAAA,4DAAK;QACnC,iFACI;QAAA,4EAAW;QAAA,6FAAkC;QAAA,4DAAY;QACzD,2EACJ;QADoB,kMAA2B,sFAAU,uCAA+B,IAAzC;QAA3C,4DACJ;QAAA,4DAAiB;QACjB,+GAAoC;QACpC,qFACI;QAAA,4EAAyC;QAAtB,+IAAS,cAAU,IAAC;QAAE,iEAAM;QAAA,4DAAS;QACxD,6EAA8F;QAAA,gEAAI;QAAA,4DAAS;QAC/G,4DAAqB;;QAND,0DAA2B;QAA3B,sFAA2B;QAE5C,0DAAgB;QAAhB,8EAAgB;QAGK,0DAAkC;QAAlC,+FAAkC;;6FDC7C,uBAAuB;cALnC,uDAAS;eAAC;gBACT,QAAQ,EAAE,sBAAsB;gBAChC,WAAW,EAAE,mCAAmC;gBAChD,SAAS,EAAE,CAAC,kCAAkC,CAAC;aAChD;;sBAKc,oDAAM;uBAAC,wEAAe;;;;;;;;;;;;;;AEbrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AACmC;;;;;;;;;;;;ICKzE,yEACQ;IAAA,qEAAI;IAAA,wFAA6B;IAAA,4DAAK;IACtC,wFACI;IADyB,+UAA2B;IACpD,sFAA8D;IAAA,gEAAK;IAAA,4DAAmB;IACtF,sFAA+B;IAAA,+DAAI;IAAA,4DAAmB;IAC1D,4DAAkB;IAAA,gEAClB;IAAA,8EACI;IAD4B,uTAAkB;IAC9C,wEAAM;IAAA,sEAAqF;IAA3F,4DAAM;IACN,4EAAsB;IAAA,+EAAmB;IAAA,4DAAO;IACpD,4DAAS;IACjB,4DAAM;;;IAhBlB,sEACI;IAAA,mFACI;IAAA,mFACI;IAAA,oEACJ;IAAA,4DAAgB;IAChB,mFACI;IAAA,iHACQ;IAUZ,4DAAgB;IACpB,4DAAgB;IACpB,4DAAM;;;IAlBsB,0DAAiB;IAAjB,iFAAiB;IAK5B,0DAAoB;IAApB,qFAAoB;;ADK9B,MAAM,cAAc;IAKzB,YACU,WAAuB,EACvB,WAAuB,EACvB,QAAoB,EACpB,MAAa;QAHb,gBAAW,GAAX,WAAW,CAAY;QACvB,gBAAW,GAAX,WAAW,CAAY;QACvB,aAAQ,GAAR,QAAQ,CAAY;QACpB,WAAM,GAAN,MAAM,CAAO;QAPvB,aAAQ,GAAQ,OAAO,CAAC;QAExB,eAAU,GAAW,IAAI,CAAC;QAMtB,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,WAAW,GAAC,GAAG,CAAC;IACtC,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,EAAC,EAAE;YAC3C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAG,IAAI,CAAC,WAAW,EAAC;gBAClB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;aACjC;iBAAI;gBACH,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;aACzB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,QAAQ,CAAC,KAAK;QACZ,IAAI,CAAC,QAAQ,GAAC,KAAK,CAAC,KAAK,CAAC;IAC5B,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,yEAAmB,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;YACrE,IAAG,IAAI,EAAC;gBACN,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;oBAC5D,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;oBAC/B,IAAG,MAAM,CAAC,SAAS,CAAC,EAAC;wBACnB,IAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;wBAC1B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;wBAClB,IAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,QAAQ,KAAK,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,QAAQ,KAAK,MAAM,CAAC,EAAE;4BAC9G,IAAI,CAAC,YAAY,CAAC,kBAAkB,EAAC,QAAQ,CAAC,CAAC;4BAC/C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;yBACnC;6BAAM;4BACH,IAAI,CAAC,OAAO,EAAE,CAAC;4BACf,IAAI,CAAC,YAAY,CAAC,2BAA2B,EAAC,QAAQ,CAAC,CAAC;yBAC3D;qBACF;yBAAI;wBACH,IAAI,CAAC,OAAO,EAAE,CAAC;wBACf,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,UAAU,CAAC,EAAC,QAAQ,CAAC,CAAC;qBAChD;gBACH,CAAC,CAAC,CAAC;aACJ;QACH,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;YACf,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,IAAI,CAAC,YAAY,CAAC,qBAAqB,EAAC,QAAQ,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC;IACL,CAAC;IAED,OAAO;QACL,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,YAAY,CAAC,OAAc,EAAC,MAAa;QACvC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAC,MAAM,EAAC;YAChC,QAAQ,EAAC,IAAI;SACd,CAAC,CAAC;IACL,CAAC;;4EA/DU,cAAc;8FAAd,cAAc;QCX3B,0GACI;;QADC,iFAAmB;;6FDWX,cAAc;cAL1B,uDAAS;eAAC;gBACT,QAAQ,EAAE,WAAW;gBACrB,WAAW,EAAE,wBAAwB;gBACrC,SAAS,EAAE,CAAC,uBAAuB,CAAC;aACrC;;;;;;;;;;;;;;AEVD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AAEoB;AACF;AACF;AACO;AACT;AACM;AACG;AACL;AACO;AACT;AACF;AACV;;AAoBtC,MAAM,SAAS;;wFAAT,SAAS;4IAAT,SAAS,kBAflB,0EAAgB;QAChB,wEAAe;QACf,sEAAc;QACd,6EAAiB;QACjB,oEAAa;QACb,0EAAgB;QAChB,6EAAiB;QACjB,wEAAe;QACf,+EAAkB;QAClB,uEAAc;QACd,2DAAW;QACX,qEAAa;mIAIJ,SAAS,cAflB,0EAAgB;QAChB,wEAAe;QACf,sEAAc;QACd,6EAAiB;QACjB,oEAAa;QACb,0EAAgB;QAChB,6EAAiB;QACjB,wEAAe;QACf,+EAAkB;QAClB,uEAAc;QACd,2DAAW;QACX,qEAAa;6FAIJ,SAAS;cAjBrB,sDAAQ;eAAC;gBACT,OAAO,EAAE;oBACN,0EAAgB;oBAChB,wEAAe;oBACf,sEAAc;oBACd,6EAAiB;oBACjB,oEAAa;oBACb,0EAAgB;oBAChB,6EAAiB;oBACjB,wEAAe;oBACf,+EAAkB;oBAClB,uEAAc;oBACd,2DAAW;oBACX,qEAAa;iBACf;aACD;;;;;;;;;;;;;;AC/BD;AAAA;AAAA;AAAA;AAAA;AAAmD;AACnD,0CAA0C;AACH;;AAIhC,MAAM,aAAa;IAGxB;QAFQ,QAAG,GAAG,qBAAqB,CAAC;IAGpC,CAAC;IAED,OAAO;QACL,IAAI,CAAC,MAAM,GAAG,6CAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC7B,CAAC;IAED,SAAS,CAAC,KAAmB,EAAE,EAAU;QACvC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,EAC7B,CAAC;gBACC,EAAE,EAAE,KAAK,CAAC,EAAE;gBACZ,IAAI,EAAE,KAAK,CAAC,IAAI;gBAChB,GAAG,EAAE,KAAK,CAAC,GAAG;gBACd,KAAK,EAAE,KAAK,CAAC,KAAK;gBAClB,MAAM,EAAE,KAAK,CAAC,MAAM;gBACpB,MAAM,EAAE,KAAK,CAAC,MAAM;aACrB;YACD,EAAE,CAAC,CAAC,CAAC;IACT,CAAC;IAED,cAAc,CAAC,KAAa,EAAE,KAAa,EAAE,EAAU;QACrD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC;IACtD,CAAC;IAED,iBAAiB,CAAC,OAAY,EAAE,WAAW,EAAE,EAAU;QACrD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,OAAO,EAAE,WAAW,EAAE,EAAE,CAAC,CAAC,CAAC;IACjE,CAAC;IAED,WAAW,CAAC,MAAqB,EAAE,EAAU;QAC3C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,CAAC;IAChD,CAAC;IAED,WAAW,CAAC,IAAI,EAAE,KAAa,EAAE,EAAU;QACzC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC;IACrD,CAAC;IAED,QAAQ,CAAC,EAAU;QACjB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;IACnC,CAAC;IAED,WAAW,CAAC,IAAI,EAAE,EAAU;QAC1B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;IAC9C,CAAC;IAED,IAAI,CAAC,IAAS,EAAE,MAAW,EAAE,EAAU;QACrC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,CAAC,CAAC;IACrD,CAAC;IAED,SAAS,CAAC,GAAQ;QAChB,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;QACvC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;IACxC,CAAC;IAED,UAAU;QACR,IAAG,IAAI,CAAC,MAAM,EAAC;YACb,IAAI,CAAC,MAAM,CAAC,kBAAkB,EAAE,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;YACpB,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;SACzB;IACH,CAAC;;0EA9DU,aAAa;gGAAb,aAAa,WAAb,aAAa,mBADA,MAAM;6FACnB,aAAa;cADzB,wDAAU;eAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;;;;;;;;;;;ACLlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2C;AAGX;;;;;AAMzB,MAAM,iBAAiB;IAE5B,YACU,YAA0B,EAC1B,YAA0B,EAC1B,aAA4B;QAF5B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,kBAAa,GAAb,aAAa,CAAe;IAClC,CAAC;IAEL,IAAI,CAAC,MAAM,EAAE,QAAQ,EAAE,MAAM;QAC3B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAEzC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC,IAAI,EAAE,EAAE;;YACpD,cAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,0CAAE,MAAM,GAAG;YAC/C,KAAK,MAAM,GAAG,IAAI,MAAM,CAAC,UAAU,EAAE,EAAE;gBACrC,IAAI,GAAG,YAAY,6CAAM,CAAC,KAAK,EAAE;oBAC/B,IAAI,GAAG,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,EAAE;wBACtB,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;wBACrB,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;wBACnB,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;wBACzB,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;wBACzB,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC;wBAC5B,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;wBACjC,GAAG,CAAC,SAAS,EAAE,CAAC;wBAChB,MAAM,CAAC,SAAS,EAAE,CAAC;qBACpB;iBACF;aACF;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,IAAI,EAAE,EAAE;YACnD,IAAI,IAAI,CAAC,CAAC,CAAC,KAAK,MAAM,EAAE;gBACtB,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;aAC3D;iBAAM,IAAI,IAAI,CAAC,CAAC,CAAC,KAAK,SAAS,EAAE;gBAChC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,MAAM,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;aACzD;iBAAM;gBACL,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;aAC1D;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,CAAC,gBAAgB,EAAE,CAAC,IAAI,EAAE,EAAE;;YACtD,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YAClB,cAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,0CAAE,MAAM,GAAG;YAC/C,IAAI,EAAE,CAAC;YACP,KAAK,MAAM,EAAE,IAAI,MAAM,CAAC,QAAQ,EAAE;gBAChC,IAAI,EAAE,CAAC,EAAE,KAAK,CAAC,EAAE;oBACf,EAAE,GAAG,EAAE,CAAC;oBACR,MAAM;iBACP;aACF;YACD,MAAM,KAAK,GAAG,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC7B,MAAM,IAAI,GAAG,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC;YACtB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;YAC1B,KAAK,CAAC,GAAG,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;YAC1B,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,aAAa,CAAC,CAAC;YACpD,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;YACtC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC7B,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,CAAM,EAAE,EAAE;;YACpD,cAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,0CAAE,MAAM,GAAG;YAC/C,IAAI,CAAe,CAAC;YACpB,KAAK,MAAM,EAAE,IAAI,IAAI,CAAC,YAAY,CAAC,aAAa,EAAC;gBAC/C,IAAI,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,EAAC;oBACjB,CAAC,GAAG,EAAE,CAAC;oBACP,MAAM;iBACP;aACF;YACD,MAAM,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC5B,MAAM,IAAI,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC3B,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;YACnB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;YAC1B,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACvB,KAAK,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,GAAG,EAAE,EAAE;;YAClD,MAAM,CAAC,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;YAClD,cAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,0CAAE,MAAM,GAAG;QACjD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,IAAI,EAAE,EAAE;YACnD,IAAI,EAAE,CAAC;YACP,KAAK,MAAM,EAAE,IAAI,MAAM,CAAC,QAAQ,EAAE;gBAChC,IAAI,EAAE,CAAC,EAAE,KAAK,IAAI,CAAC,CAAC,CAAC,EAAE;oBACrB,EAAE,GAAG,EAAE,CAAC;oBACR,MAAM;iBACP;aACF;YACD,MAAM,IAAI,GAAG,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC5B,MAAM,KAAK,GAAG,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;YACtC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACrB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,IAAI,EAAE,EAAE;YACnD,IAAI,EAAE,CAAC;YACP,KAAK,MAAM,EAAE,IAAI,MAAM,CAAC,QAAQ,EAAE;gBAChC,IAAI,EAAE,CAAC,EAAE,KAAK,IAAI,EAAE;oBAClB,EAAE,GAAG,EAAE,CAAC;oBACR,MAAM;iBACP;aACF;YACD,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC,IAAS,EAAE,EAAE;YACzD,MAAM,CAAC,GAAG;gBACR,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;gBACV,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;aACX,CAAC;YACF,KAAK,MAAM,GAAG,IAAI,MAAM,CAAC,QAAQ,EAAE;gBACjC,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,EAAE,EAAE;oBAClB,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;iBACnC;gBACD,IAAG,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,EAAE,EAAC;oBAChB,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;iBACnC;aACF;YACD,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;YAC5C,MAAM,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC;IACL,CAAC;;kFA/HU,iBAAiB;oGAAjB,iBAAiB,WAAjB,iBAAiB,mBAFhB,MAAM;6FAEP,iBAAiB;cAH7B,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACRD;AAAA;AAAA;AAA2C;;AAKpC,MAAM,gBAAgB;IAe3B;QACE,IAAI,CAAC,YAAY,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;QACnH,IAAI,CAAC,WAAW,GAAG,4BAA4B,CAAC;QAChD,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;QACnB,IAAI,CAAC,GAAG,GAAG,kBAAkB,IAAI,CAAC,IAAI,EAAE,CAAC;QACzC,IAAI,CAAC,WAAW,GAAG,gCAAgC,CAAC;QACpD,IAAI,CAAC,MAAM,GAAG,CAAC,gBAAgB,EAAE,UAAU,EAAE,kBAAkB,EAAE,cAAc,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,eAAe,EAAE,MAAM,CAAC,CAAC;QACtI,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;QAC7B,IAAI,CAAC,cAAc,GAAG,sBAAsB,CAAC;IAC9C,CAAC;;gFAxBS,gBAAgB;mGAAhB,gBAAgB,WAAhB,gBAAgB,mBAFf,MAAM;6FAEP,gBAAgB;cAH5B,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACJD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsD;AACtB;;;;;;AAUzB,MAAM,YAAY;IAIvB,YAAoB,cAA8B,EAAU,SAA2B,EACnE,aAA4B,EAAU,YAAiC;QADvE,mBAAc,GAAd,cAAc,CAAgB;QAAU,cAAS,GAAT,SAAS,CAAkB;QACnE,kBAAa,GAAb,aAAa,CAAe;QAAU,iBAAY,GAAZ,YAAY,CAAqB;QAJ3F,kBAAa,GAAwB,EAAE,CAAC;QAKtC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;QAClB,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;IAC/B,CAAC;IAED,QAAQ,CAAC,MAAoB;QAC3B,OAAO,IAAI,6CAAM,CAAC,IAAI,CAAC,MAAM,EAAE;YAC7B,MAAM,EAAE,OAAO;YACf,WAAW,EAAE,CAAC;YACd,OAAO,EAAE,GAAG;YACZ,UAAU,EAAE,KAAK;YACjB,sBAAsB,EAAE,IAAI;SAC7B,CAAC,CAAC;IACL,CAAC;IAED,WAAW,CAAC,KAAoB,EAAE,IAAkB,EAAE,MAAqB,EAAE,CAAS,EAAE,CAAS,EACrF,WAA6F,EAC7F,QAAmB,EAAE,OAAe,EAAE,OAAgB,EACtD,KAAa,EAAE,MAAc,EAAE,MAAc;QACvD,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;QAC/D,MAAM,KAAK,GAAG,IAAI,6CAAM,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE;YAC5C,KAAK;YACL,MAAM;YACN,MAAM;YACN,IAAI,EAAE,CAAC;YACP,GAAG,EAAE,CAAC;YACN,WAAW;YACX,UAAU,EAAE,IAAI;SACjB,CAAC,CAAC;QACH,IAAI,OAAO,KAAK,CAAC,CAAC,EAAE;YAClB,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;YACzB,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;YACxB,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC;YACnB,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;SACjC;aACG;YACF,KAAK,CAAC,EAAE,GAAG,OAAO,CAAC;YACnB,IAAI,CAAC,EAAE,GAAG,OAAO,CAAC;SACnB;QACD,KAAK,CAAC,IAAI,GAAG,OAAO,CAAC;QACrB,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;QACxB,KAAK,CAAC,qBAAqB,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;QACzD,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;QAChD,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAClB,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,aAAa,EAAE,UAAU,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC;QAC7F,OAAO,KAAK,CAAC;IACf,CAAC;IAED,gBAAgB,CAAC,GAAG,EAAE,OAAO;QAC3B,OAAO,GAAG,EAAE;YACV,IAAI,GAAG,CAAC,OAAO,EAAE;gBACf,OAAO,CAAC,GAAG,CAAC,CAAC;aACd;iBAAM;gBACL,GAAG,CAAC,OAAO,GAAG,IAAI,CAAC;gBACnB,UAAU,CAAC,GAAG,EAAE;oBACd,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC;gBACtB,CAAC,EAAE,GAAG,CAAC,CAAC;aACT;QACH,CAAC,CAAC;IACJ,CAAC;IAED,OAAO,CAAC,KAAmB,EAAE,MAAqB;QAChD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC/B,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,aAAa,EAAE,UAAU,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC;QAC7F,MAAM,KAAK,GAAG,KAAK,CAAC,QAAQ,CAAC;QAC7B,KAAK,CAAC,oBAAoB,EAAE,CAAC;QAC7B,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACrB,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;YACxB,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SAClB;QACD,MAAM,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAED,OAAO,CAAC,KAAoB,EAAE,IAAkB,EACxC,MAAqB,EAAE,QAAmB;QAChD,IAAI,CAAe,CAAC;QACpB,IAAK,CAAC,GAAG,CAAC,CAAC;QACX,KAAK,MAAM,EAAE,IAAI,IAAI,CAAC,aAAa,EAAC;YAClC,IAAI,EAAE,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,EAAC;gBACpB,CAAC,GAAG,EAAE,CAAC;gBACP,MAAM;aACP;YACD,CAAC,EAAE,CAAC;SACL;QACD,MAAM,UAAU,GAAG,CAAC,CAAC,gBAAgB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5C,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACrB,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACpB,IAAI,CAAC,WAAW,CACd,KAAK,EACL,IAAI,EACJ,MAAM,EACN,UAAU,CAAC,CAAC,EACZ,UAAU,CAAC,CAAC,EACZ,CAAC,CAAC,WAAW,EACb,QAAQ,EACR,CAAC,CAAC,EAAE,EACJ,KAAK,EACL,CAAC,CAAC,KAAK,EACP,CAAC,CAAC,MAAM,EACR,CAAC,CAAC,MAAM,CACT,CAAC;QACF,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAChC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,aAAa,EAAE,UAAU,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC;IAC/F,CAAC;IAED,iBAAiB,CAAC,MAAqB;QACrC,MAAM,MAAM,GAAG,MAAM,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;QAC1C,MAAM,MAAM,GAAG,MAAM,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;QAC1C,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC;YACzB,MAAM,CAAC,cAAc,EAAE,CAAC,CAAC;YACzB,MAAM,CAAC,cAAc,EAAE,CAAC,CAAC;YACzB,MAAM,CAAC,cAAc,EAAE,CAAC,CAAC;YACzB,MAAM,CAAC,cAAc,EAAE,CAAC,CAAC;SAC1B,CAAC,CAAC;QACH,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACjB,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QACxB,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,cAAc,EAAE,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;QACzE,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,cAAc,EAAE,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;QACzE,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;QACvB,MAAM,CAAC,iBAAiB,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC;QACtD,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,aAAa,EAAE,UAAU,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC;IAC/F,CAAC;IAED,SAAS,CAAC,KAAmB;QAC3B,MAAM,QAAQ,GAAG,KAAK,CAAC,cAAc,EAAE,CAAC;QACxC,KAAK,MAAM,UAAU,IAAI,KAAK,CAAC,WAAW,EAAE;YAC1C,IAAI,UAAU,CAAC,IAAI,KAAK,IAAI,EAAE;gBAC5B,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC;oBAClB,EAAE,EAAE,QAAQ,CAAC,CAAC;oBACd,EAAE,EAAE,QAAQ,CAAC,CAAC;iBACf,CAAC,CAAC;aACJ;iBAAM;gBACL,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC;oBAClB,EAAE,EAAE,QAAQ,CAAC,CAAC;oBACd,EAAE,EAAE,QAAQ,CAAC,CAAC;iBACf,CAAC,CAAC;aACJ;SACF;IACH,CAAC;IAED,MAAM,CAAC,MAAqB,EAAE,EAAiB;QAC7C,IAAI,KAAK,CAAC;QACV,IAAI,EAAE,EAAE;YACN,KAAK,GAAG,EAAE,CAAC;SACZ;aAAM;YACL,KAAK,GAAG,MAAM,CAAC,eAAe,EAAE,CAAC;YACjC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SACjE;QACD,KAAK,MAAM,UAAU,IAAI,KAAK,CAAC,WAAW,EAAE;YAC1C,kCAAkC;YAClC,KAAK,MAAM,KAAK,IAAI,UAAU,CAAC,cAAc,CAAC,WAAW,EAAE;gBACzD,MAAM,qBAAqB,GAAG,UAAU,CAAC,cAAc,CAAC,WAAW,CAAC;gBACpE,IAAI,qBAAqB,CAAC,KAAK,CAAC,CAAC,cAAc,KAAK,KAAK,EAAE;oBACzD,qBAAqB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;iBACxC;aACF;YACD,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;SAChC;QACD,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACrB,MAAM,CAAC,SAAS,EAAE,CAAC;QACnB,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,aAAa,EAAE,UAAU,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC;IAC/F,CAAC;IAED,YAAY,CAAC,CAAS,EAAE,CAAS,EAAE,MAAqB,EAAE,QAAmB;;QAC3E,cAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,0CAAE,MAAM,GAAG;QAC/C,MAAM,OAAO,GAAG,CAAC,GAAG,EAAE,CAAC;QACvB,MAAM,MAAM,GAAG,CAAC,GAAG,EAAE,CAAC;QACtB,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/C,QAAQ,CAAC,EAAE,GAAG,WAAW,CAAC;QAC1B,QAAQ,CAAC,GAAG,GAAG,6BAA6B,CAAC;QAC7C,QAAQ,CAAC,KAAK,GAAG;UACX,MAAM;WACL,OAAO;;;iBAGD,CAAC;QACd,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;QACvF,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,EAAE;YACvE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACtB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,aAAa,EAAE,UAAU,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC;IAC/F,CAAC;IAED,iBAAiB,CAAC,MAAqB,EAAE,KAAmB,EAAE,QAAmB;QAC/E,KAAK,CAAC,EAAE,CAAC,UAAU,EAAE,CAAC,CAAC,EAAE,EAAE;YACzB,IAAI,CAAC,YAAY,CACf,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,EAClB,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,EAClB,MAAM,EACN,QAAQ,CACT,CAAC;QACJ,CAAC,CAAC,CAAC;QAEH,KAAK,CAAC,EAAE,CAAC,UAAU,EAAE,CAAC,CAAC,EAAE,EAAE;YACzB,IAAI,CAAC,YAAY,CACf,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,EAClB,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,EAClB,MAAM,EACN,QAAQ,CACT,CAAC;QACJ,CAAC,CAAC,CAAC;QAEH,KAAK,CAAC,EAAE,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,EAAE;;YACxB,cAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,0CAAE,MAAM,GAAG;YAC/C,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAC7D,CAAC,CAAC,CAAC;QAEH,KAAK,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC,EAAE,EAAE;;YACvB,cAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,0CAAE,MAAM,GAAG;YAC/C,IAAI,KAAK,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;gBAChC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;gBACtB,MAAM,CAAC,SAAS,EAAE,CAAC;aACpB;YACD,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAC7D,CAAC,CAAC,CAAC;QAEH,KAAK,CAAC,EAAE,CAAC,UAAU,EAAE,CAAC,CAAC,EAAE,EAAE;;YACzB,cAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,0CAAE,MAAM,GAAG;YAC/C,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAC7D,CAAC,CAAC,CAAC;QAEH,KAAK,CAAC,EAAE,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,EAAE;;YACxB,cAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,0CAAE,MAAM,GAAG;QACjD,CAAC,CAAC,CAAC;QAEH,KAAK,CAAC,EAAE,CACN,WAAW,EACX,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,GAAG,EAAE;YAChC,IAAI,MAAM,CAAC,OAAO,EAAE;gBAClB,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACpC,IAAI,MAAM,CAAC,gBAAgB,CAAC,MAAM,KAAK,CAAC,EAAE;oBACxC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;oBAC/B,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC;wBAC3B,CAAC,EAAE,MAAM,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,EAAE;wBAChC,CAAC,EAAE,MAAM,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,EAAE;wBAChC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM;qBAC9B,CAAG,CAAC;oBACL,MAAM,CAAC,gBAAgB,CAAC,GAAG,EAAE,CAAC;oBAC9B,MAAM,CAAC,gBAAgB,CAAC,GAAG,EAAE,CAAC;iBAC/B;aACF;iBAAM;gBACL,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;gBACzB,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,KAAK,CAAC,EAAE,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;gBACxF,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;gBAC5B,MAAM,KAAK,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAChC,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC;gBAC5B,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC;gBAC5B,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;gBAC9B,KAAK,CAAC,YAAY,EAAE,CAAC;gBACrB,KAAK,CAAC,SAAS,EAAE,CAAC;aACnB;QACH,CAAC,CAAC,CACH,CAAC;QAEF,MAAM,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,CAAC,EAAE,EAAE;;YAC5B,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE,EAAE;gBAC7B,cAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,0CAAE,MAAM,GAAG;aAChD;QACH,CAAC,CAAC,CAAC;IACL,CAAC;;wEAzQU,YAAY;+FAAZ,YAAY,WAAZ,YAAY,mBAFX,MAAM;6FAEP,YAAY;cAHxB,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACVD;AAAA;AAAA;AAAA;AAAA;AAA2C;AAEX;;AAKzB,MAAM,cAAc;IAEzB,gBAAgB,CAAC;IAGjB,WAAW,CAAC,KAAoB,EAAE,gBAAgB;QAChD,IAAI,MAAM,GAAG,KAAK,CAAC;QACnB,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;QAC3C,MAAM,KAAK,GAAG,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;QACzC,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,MAAM,EAAE,gBAAgB,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,KAAK,EAAE,gBAAgB,CAAC,KAAK,CAAC,CAAC;QAEtI,IAAI,KAAK,YAAY,6CAAM,CAAC,OAAO,IAAI,MAAM,EAAE;YAC7C,IAAI,KAAK,CAAC,KAAK,GAAG,gBAAgB,CAAC,KAAK,EAAE;gBACxC,KAAK,CAAC,KAAK,GAAG,gBAAgB,CAAC,KAAK,GAAG,EAAE,CAAC;aAC3C;YACD,IAAI,KAAK,CAAC,MAAM,GAAG,gBAAgB,CAAC,MAAM,EAAE;gBAC1C,KAAK,CAAC,MAAM,GAAG,gBAAgB,CAAC,MAAM,GAAG,EAAE,CAAC;aAC7C;YACD,KAAK,CAAC,EAAE,GAAG,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC;YAC3B,KAAK,CAAC,EAAE,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;SAC7B;IACH,CAAC;IAED,gBAAgB,CAAC,KAAmB,EAAE,UAAkB,EAAE,SAAiB;QAC5E,IAAI,KAAK,YAAY,6CAAM,CAAC,IAAI,EAAC;YAC9B,IAAI,UAAU,GAAG,SAAS,EAAE;gBAC1B,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,GAAG,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,SAAS,GAAG,EAAE,CAAC;gBAC5G,OAAO,IAAI,CAAC;aACb;YACD,OAAO,KAAK,CAAC;SACd;QACF,IAAI,KAAK,YAAY,6CAAM,CAAC,QAAQ,EAAC;YACpC,IAAI,UAAU,GAAG,CAAC,GAAG,SAAS,EAAE;gBAC9B,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,UAAU,EAAE;oBAChD,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,SAAS,CAAC,GAAG,GAAG,CAAC;oBACrD,KAAK,CAAC,KAAK,IAAI,GAAG,CAAC;iBACpB;qBACI;oBACH,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,SAAS,CAAC,GAAG,CAAC,CAAC;oBAClD,KAAK,CAAC,MAAM,IAAI,GAAG,CAAC;iBACpB;gBACF,OAAO,IAAI,CAAC;aACb;YACD,OAAO,KAAK,CAAC;SACZ;QACF,OAAO,IAAI,CAAC;IACZ,CAAC;;4EA9CW,cAAc;iGAAd,cAAc,WAAd,cAAc,mBAFb,MAAM;6FAEP,cAAc;cAH1B,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsD;AACtB;;;;;;AASzB,MAAM,YAAY;IAGvB,YACU,YAA0B,EAC1B,mBAAwC,EACxC,SAA2B,EAC3B,aAA4B;QAH5B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,cAAS,GAAT,SAAS,CAAkB;QAC3B,kBAAa,GAAb,aAAa,CAAe;IACnC,CAAC;IAEJ,UAAU,CAAC,QAAmB;QAC5B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,6CAAM,CAAC,MAAM,CAAC,SAAS,CAAC,kBAAkB,GAAG,KAAK,CAAC;QACnD,MAAM,MAAM,GAAG,IAAI,6CAAM,CAAC,MAAM,CAAC,QAAQ,EAAE;YACzC,WAAW,EAAE,SAAS;YACtB,SAAS,EAAE,IAAI;SAChB,CAAC,CAAC;QACH,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QACtB,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC;QAC3B,MAAM,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC7B,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAChD,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QAC5C,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,aAAa,CAAC,MAAqB,EAAE,MAAc;QACjD,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;QACvB,MAAM,CAAC,iBAAiB,GAAG,SAAS,CAAC;QACrC,IAAI,IAAI,CAAC,KAAK,EAAE;YACd,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACtC,MAAM,CAAC,SAAS,EAAE,CAAC;SACpB;aAAM;YACL,MAAM,QAAQ,GAAG,IAAI,KAAK,EAAE,CAAC;YAC7B,QAAQ,CAAC,GAAG,GAAG,MAAM,CAAC;YACtB,QAAQ,CAAC,MAAM,GAAG,GAAG,EAAE;gBACrB,IAAI,CAAC,KAAK,GAAG,IAAI,6CAAM,CAAC,KAAK,CAAC,QAAQ,EAAE;oBACtC,KAAK,EAAE,MAAM,CAAC,KAAK;oBACnB,MAAM,EAAE,MAAM,CAAC,MAAM;oBACrB,OAAO,EAAE,GAAG;iBACb,CAAC,CAAC;gBACH,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACtC,MAAM,CAAC,SAAS,EAAE,CAAC;YACrB,CAAC,CAAC;SACH;IACH,CAAC;IAED,UAAU,CAAC,MAAqB,EAAE,QAAmB,EAAE,KAAc;QACnE,MAAM,OAAO,GAAG,IAAI,6CAAM,CAAC,OAAO,CAAC;YACjC,OAAO,EAAE,QAAQ;YACjB,OAAO,EAAE,QAAQ;YACjB,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,aAAa;YAC1C,EAAE,EAAE,GAAG;YACP,EAAE,EAAE,EAAE;YACN,MAAM,EAAE,OAAO;YACf,WAAW,EAAE,GAAG;YAChB,UAAU,EAAE,KAAK;SAClB,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,sBAAsB,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAChG,CAAC;IAED,YAAY,CAAC,MAAqB,EAAE,QAAmB,EAAE,KAAc;QACrE,MAAM,IAAI,GAAG,IAAI,6CAAM,CAAC,IAAI,CAAC;YAC3B,OAAO,EAAE,QAAQ;YACjB,OAAO,EAAE,QAAQ;YACjB,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,EAAE,EAAE,EAAE;YACN,EAAE,EAAE,EAAE;YACN,MAAM,EAAE,OAAO;YACf,WAAW,EAAE,GAAG;YAChB,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,aAAa;YAC1C,UAAU,EAAE,KAAK;YACjB,cAAc,EAAE,OAAO;SACxB,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,sBAAsB,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC7F,CAAC;IAED,WAAW,CAAC,MAAqB,EAAE,QAAmB,EAAE,KAAc;QACpE,MAAM,QAAQ,GAAG,IAAI,6CAAM,CAAC,QAAQ,CAAC;YACnC,OAAO,EAAE,QAAQ;YACjB,OAAO,EAAE,QAAQ;YACjB,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,EAAE,EAAE,EAAE;YACN,EAAE,EAAE,EAAE;YACN,MAAM,EAAE,OAAO;YACf,WAAW,EAAE,GAAG;YAChB,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,aAAa;YAC1C,UAAU,EAAE,KAAK;YACjB,cAAc,EAAE,OAAO;SACxB,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,sBAAsB,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACjG,CAAC;IAED,OAAO,CACL,KAAoB,EACpB,MAAqB,EACrB,QAAmB,EACnB,OAAe,EACf,OAAe,EACf,CAAS,EACT,CAAS,EACT,OAAgB,EAChB,KAAa,EACb,MAAc,EACd,MAAc;QACd,MAAM,IAAI,GAAG,IAAI,6CAAM,CAAC,KAAK,CAAC,OAAO,EAAE;YACrC,IAAI,EAAE,MAAM;YACZ,WAAW,EAAG,GAAG;YACjB,QAAQ,EAAE,EAAE;YACZ,OAAO,EAAE,QAAQ;YACjB,OAAO,EAAE,QAAQ;YACjB,SAAS,EAAE,QAAQ;YACnB,UAAU,EAAG,cAAc;YAC3B,GAAG,EAAE,CAAC;YACN,IAAI,EAAE,CAAC;YACP,UAAU,EAAE,KAAK;SAClB,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;QACpD,OAAO,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,QAAQ,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;IACzH,CAAC;IAED,eAAe,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ;QAC3C,IAAI,CAAC,EAAE,CAAC,gBAAgB,EAAE,GAAG,EAAE;YAC7B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YACnE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW,CAAC,MAAqB,EAAE,KAAa,EAAE,QAAmB;QACnE,MAAM,CAAC,aAAa,GAAG,KAAK,CAAC;QAC7B,MAAM,KAAK,GAAG,MAAM,CAAC,eAAe,EAAE,CAAC;QACvC,IAAI,KAAK,EAAE;YACT,MAAM,KAAK,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAChC,MAAM,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,aAAa,CAAC,WAAW,CAC5B,KAAK,CAAC,EAAE,EACR,KAAK,EACL,IAAI,CAAC,SAAS,CAAC,MAAM,CACtB,CAAC;YACF,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;YACzC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;YACzD,KAAK,MAAM,GAAG,IAAI,MAAM,CAAC,QAAQ,EAAE;gBACjC,IAAI,GAAG,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,EAAE;oBACtB,MAAM,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;oBAC5B,MAAM;iBACP;aACF;SACF;IACH,CAAC;IAED,oBAAoB,CAAC,MAAqB,EAAE,QAAQ;QAClD,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,SAAS;YACjC,CAAC,CAAC,CAAC,MAAM,CAAC,UAAU,GAAG,QAAQ,CAAC;YAChC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,WAAW,EAAE,CAAC,SAAS,CAC9C,CAAC,QAAQ,EAAE,EAAE;gBACX,MAAM,CAAC,UAAU,GAAG,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC;gBACvD,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE;oBAAC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,QAAQ,CAAC,CAAC;iBAAE;gBAC/H,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YAC7D,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;gBACR,MAAM,CAAC,UAAU,GAAG,QAAQ,CAAC;gBAC7B,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;YACzD,CAAC,CACF,CAAC;IACR,CAAC;IAED,UAAU,CAAC,MAAqB,EAAE,UAAU,EAAE,QAAmB;QAC/D,MAAM,SAAS,GAAG,IAAI,6CAAM,CAAC,MAAM,EAAE,CAAC;QACtC,SAAS,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;QACnC,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;QAChD,MAAM,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;QACrC,MAAM,UAAU,GAAG,EAAE,CAAC;QACtB,KAAK,MAAM,MAAM,IAAI,SAAS,CAAC,QAAQ,EAAC;YACtC,IAAI,MAAM,CAAC,IAAI,KAAK,OAAO,EAAC;gBAC1B,MAAM,KAAK,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACjC,MAAM,UAAU,GAAG,MAAM,CAAC,gBAAgB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACjD,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,MAAM,CAAC,EAAE,EAAE,UAAU,CAAC,CAAC,EACzE,UAAU,CAAC,CAAC,EAAE,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;gBACrG,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACxB;SACF;QAED,KAAK,MAAM,KAAK,IAAI,UAAU,EAAC;YAC7B,KAAK,MAAM,MAAM,IAAI,SAAS,CAAC,QAAQ,EAAC;gBACtC,IAAI,MAAM,CAAC,EAAE,KAAK,KAAK,CAAC,EAAE,EAAC;oBACzB,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;iBACnD;aACF;SACF;QAED,KAAK,MAAM,KAAK,IAAI,UAAU,EAAC;YAC7B,IAAI,KAAK,CAAC,OAAO,EAAC;gBAChB,MAAM,KAAK,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAChC,MAAM,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC/B,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC;gBACtB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;gBAC1B,KAAK,CAAC,GAAG,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;gBAC1B,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,qBAAqB,CAAC,CAAC;gBACxC,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;gBAClC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;gBAC3B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;aAC5B;SACF;QACD,MAAM,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAED,aAAa,CAAC,KAAK,EAAE,MAAM;QACzB,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5C,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;QACrB,MAAM,KAAK,GAAG,KAAK,CAAC,QAAQ,CAAC;QAC7B,KAAK,CAAC,oBAAoB,EAAE,CAAC;QAC7B,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACrB,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;YACxB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SAClB;IACH,CAAC;IAED,qBAAqB,CAAC,MAAM,EAAE,MAAM,EAAE,KAAK;QACzC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACpC,KAAK,MAAM,UAAU,IAAI,MAAM,CAAC,WAAW,EAAC;YAC1C,IAAI,UAAU,CAAC,IAAI,KAAK,IAAI,EAAC;gBAC3B,KAAK,MAAM,cAAc,IAAI,MAAM,CAAC,QAAQ,EAAC;oBAC3C,IAAI,cAAc,CAAC,EAAE,KAAK,UAAU,CAAC,cAAc,EAAC;wBAClD,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;wBAC7C,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;wBAC5C,MAAM,CAAC,gBAAgB,CAAC,GAAG,EAAE,CAAC;wBAC9B,MAAM;qBACP;iBACF;aACF;SACF;QACD,MAAM,CAAC,gBAAgB,CAAC,GAAG,EAAE,CAAC;IAChC,CAAC;;wEA3OU,YAAY;+FAAZ,YAAY,WAAZ,YAAY,mBAFX,MAAM;6FAEP,YAAY;cAHxB,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;AA+OM,MAAM,gBAAgB;IAC3B,UAAU,CAAC,GAAW;QACpB,MAAM,MAAM,GAAG;YACb,aAAa,EAAE,UAAU;YACzB,OAAO,EAAE,KAAK;YACd,iBAAiB,EAAE,SAAS;YAC5B,gBAAgB,EAAE,EAAE;YACpB,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,KAAK,EAAE,GAAG,EAAE;gBACV,MAAM,CAAC,QAAQ,GAAG,EAAE,CAAC;YACvB,CAAC;SACF,CAAC;QACF,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,WAAW,CAAC,MAAM,EAAE,KAAK;QACvB,MAAM,CAAC,aAAa,GAAG,KAAK,CAAC;IAC/B,CAAC;CACF;;;;;;;;;;;;;AC1QD;AAAA;AAAA;AAAA;AAAA;AAA2C;;;;AAOpC,MAAM,mBAAmB;IAE9B,YAAoB,IAAgB,EAAU,SAA2B;QAArD,SAAI,GAAJ,IAAI,CAAY;QAAU,cAAS,GAAT,SAAS,CAAkB;IAAI,CAAC;IAE9E,aAAa,CAAC,UAAe;QAC3B,OAAO,UAAU,CAAC,eAAe,CAAC;QAClC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,6BAA6B,IAAI,CAAC,SAAS,CAAC,MAAM,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,EACzF,EAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EAAC,EAAE,EAAC,YAAY,EAAE,MAAM,EAAC,CAAC;aACjE,SAAS,CAAE,YAAY,CAAC,EAAE,GAAE,CAAC,CAAC,CAAC;IACnC,CAAC;IAEF,WAAW;QACT,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,UAAU,IAAI,CAAC,SAAS,CAAC,MAAM,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAyB,CAAC;IAChI,CAAC;;sFAbU,mBAAmB;sGAAnB,mBAAmB,WAAnB,mBAAmB,mBAFlB,MAAM;6FAEP,mBAAmB;cAH/B,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwE;;;;;;;;;;;;;;;;ICiC9D,2EAAwE;IAAA,+DAAI;IAAA,4DAAW;;IAAvC,2EAAuB;;;;IAF3E,sEACE;IAAA,6EACE;IAD4E,iWAA4B;IACxG,gIAAwE;IAC1E,4DAAS;IACX,4DAAM;;;;IAHiB,0DAAe;IAAf,kEAAe;IACxB,0DAAqC;IAArC,yGAAqC;;;IAoBvD,wEAAkD;IAAA,uDACI;IAAA,4DAAI;;;IADR,0DACI;IADJ,yKACI;;ADpCjD,MAAM,kBAAkB;IAI7B,YACU,YAA0B,EAC1B,YAA0B,EAC1B,QAAmB,EACnB,KAAqB,EACtB,SAA2B,EAC1B,aAA4B,EAC5B,iBAAoC,EACpC,WAAwB,EACxB,QAAqB,EACrB,YAAiC;QATjC,iBAAY,GAAZ,YAAY,CAAc;QAC1B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,aAAQ,GAAR,QAAQ,CAAW;QACnB,UAAK,GAAL,KAAK,CAAgB;QACtB,cAAS,GAAT,SAAS,CAAkB;QAC1B,kBAAa,GAAb,aAAa,CAAe;QAC5B,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,gBAAW,GAAX,WAAW,CAAa;QACxB,aAAQ,GAAR,QAAQ,CAAa;QACrB,iBAAY,GAAZ,YAAY,CAAqB;IACxC,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,SAAS,CAAC;QACxF,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;QAC7B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC1D,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAC/E,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YAC5C,IAAI,CAAC,YAAY,CAAC,WAAW,GAAG,IAAI,CAAC;YACrC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC;QACrC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,gDAAgD;QAChD,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;IAClC,CAAC;IAED,MAAM,CAAC,KAAK;QACV,IAAI,CAAC,aAAa,CAAC,cAAc,CAC/B,KAAK,EACL,IAAI,CAAC,MAAM,CAAC,aAAa,EACzB,IAAI,CAAC,SAAS,CAAC,MAAM,CACtB,CAAC;IACJ,CAAC;IAED,UAAU;QACR,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACzD,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IACzB,CAAC;IAED,YAAY;QACV,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3D,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IACtB,CAAC;IAED,WAAW;QACT,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC1D,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;IAC1B,CAAC;IAED,KAAK;;QACD,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACpB,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QACvD,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACnE,cAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,0CAAE,MAAM,GAAG;QAC/C,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,aAAa,EAAE,UAAU,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC;IACtG,CAAC;IAED,YAAY,CAAC,OAAe,EAAE,MAAc;QAC1C,MAAM,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,EAAE;YACtD,QAAQ,EAAE,IAAI;SACf,CAAC,CAAC;QACH,WAAW,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC,GAAG,EAAE;YACpC,IAAI,CAAC,KAAK,EAAE,CAAC;QACf,CAAC,CAAC,CAAC;IACL,CAAC;IAED,OAAO;QACL,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;YACvB,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;YAC5B,IAAI,CAAC,MAAM,CAAC,iBAAiB,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC;SAC5D;aACI;YACH,OAAO,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC9C,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,GAAG,EAAE,CAAC;aACpC;YACD,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,MAAM,CAAC,iBAAiB,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC;SAC/D;IACH,CAAC;IAED,aAAa,CAAC,aAAa;QACzB,eAAe;QACf,IAAI,aAAa,CAAC,QAAQ,EAAE;YAC1B,MAAM,IAAI,GAAG,aAAa,CAAC,QAAQ,EAAE,CAAC;YACtC,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,EAAE,iBAAiB,CAAC,CAAC;SACtD;aAAM;YACL,iBAAiB;YACjB,MAAM,KAAK,GAAG,aAAa;iBACxB,SAAS,CAAC,WAAW,EAAE,GAAG,CAAC;iBAC3B,OAAO,CAAC,WAAW,EAAE,oBAAoB,CAAC,CAAC;YAC9C,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YACzC,IAAI,CAAC,QAAQ,GAAG,iBAAiB,CAAC;YAClC,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;YAClB,IAAI,CAAC,KAAK,EAAE,CAAC;SACd;IACH,CAAC;IAED,WAAW,CAAC,KAAa;QACvB,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;IACnE,CAAC;;oFA1GU,kBAAkB;kGAAlB,kBAAkB;;QClB/B,yEAEE;QAAA,yEAEE;QAAA,yEAAmB;QAAA,uDAAqB;QAAA,4DAAM;QAE9C,yEAEE;QAAA,4EACE;QADsB,0IAAS,kBAAc,IAAC;QAC9C,2EAAU;QAAA,mEAAQ;QAAA,4DAAW;QAC7B,sEACF;QAAA,4DAAS;QACT,4EACE;QADsB,0IAAS,gBAAY,IAAC;QAC5C,4EAAU;QAAA,kFAAsB;QAAA,4DAAW;QAC3C,qEACF;QAAA,4DAAS;QACT,6EACE;QADsB,2IAAS,iBAAa,IAAC;QAC7C,4EAAU;QAAA,0EAAc;QAAA,4DAAW;QACnC,sEACF;QAAA,4DAAS;QACT,6EACE;QAD4C,2IAAS,aAAS,IAAC;QAC/D,4EAAU;QAAA,oEAAQ;QAAA,4DAAW;QAC7B,wDACF;QAAA,4DAAS;QACX,4DAAM;QAER,4DAAM;QAEN,0EAEE;QAAA,0EACE;QAAA,gHACE;QAIJ,4DAAM;QAEN,4EAA4C;QAE5C,0EACE;QAAA,8EAEE;QADa,2IAAS,iBAAa,kCAAkC,EAAC,IAAI,CAAC,IAAC;QAC5E,4EAAU;QAAA,wEAAY;QAAA,4DAAW;QACnC,4DAAS;QAET,8EAEE;QADA,wRAAS,sBAA4B,IAAC;QACtC,4EAAU;QAAA,0EAAc;QAAA,4DAAW;QACrC,4DAAS;QACX,4DAAM;QACR,4DAAM;QAEN,6GAAkD;QAGpD,4DAAM;;QApDiB,0DAAqB;QAArB,sFAAqB;QAI0B,0DAA2B;QAA3B,wFAA2B;QAI7B,0DAA2B;QAA3B,wFAA2B;QAI1B,0DAA2B;QAA3B,wFAA2B;QAMxF,0DACF;QADE,wGACF;QAQK,0DAAuC;QAAvC,yFAAuC;QAWmC,0DAA2B;QAA3B,wFAA2B;QAWpF,0DAAsB;QAAtB,oFAAsB;;6FDnCrC,kBAAkB;cAL9B,uDAAS;eAAC;gBACT,QAAQ,EAAE,gBAAgB;gBAC1B,WAAW,EAAE,6BAA6B;gBAC1C,SAAS,EAAE,CAAC,4BAA4B,CAAC;aAC1C;;;;;;;;;;;;;;AEjBD;AAAA;AAAA;AAAA;AAAA;AAA2C;AAET;;;AAK3B,MAAM,WAAW;IACtB,YAAoB,IAAe;QAAf,SAAI,GAAJ,IAAI,CAAW;IAAI,CAAC;IAExC,WAAW,CAAC,KAAY;QACtB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,8CAAG,SAAS,KAAK,EAAE,CAAC,CAAC;IAC/C,CAAC;;sEALU,WAAW;8FAAX,WAAW,WAAX,WAAW,mBAFV,MAAM;6FAEP,WAAW;cAHvB,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;;;;;;;;;ICGlD,yEACI;IAAA,yEACI;IAAA,uEAAkB;IAAA,oEAAG;IAAA,uDAAoB;IAAA,4DAAI;IAAA,4DAAI;IACjD,uEAAoB;IAAA,uDAA4B;IAAA,4DAAI;IACxD,4DAAM;IACN,4EACI;IAAA,uEAAsE;IAAA,+DAAI;IAAA,4DAAI;IAClF,4DAAS;IACb,4DAAM;;;IANuB,0DAAoB;IAApB,oFAAoB;IACrB,0DAA4B;IAA5B,qGAA4B;IAGrB,0DAA0C;IAA1C,gKAA0C;;ADEtE,MAAM,mBAAmB;IAG9B,YAAoB,MAAa,EACvB,WAAuB,EACvB,YAAyB;QAFf,WAAM,GAAN,MAAM,CAAO;QACvB,gBAAW,GAAX,WAAW,CAAY;QACvB,iBAAY,GAAZ,YAAY,CAAa;IAAI,CAAC;IAExC,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YAC5C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAG,CAAC,IAAI,CAAC,WAAW,EAAC;gBACnB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;aAClC;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;YACvE,IAAG,MAAM,CAAC,SAAS,CAAC,EAAC;gBACnB,IAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;gBAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;aAC3B;iBAAI;gBACH,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;aACvC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;;sFAtBU,mBAAmB;mGAAnB,mBAAmB;QCVhC,wEAAkB;QAAA,0EAAe;QAAA,4DAAK;QAEtC,gHACI;;QADC,0DAA4B;QAA5B,+EAA4B;;6FDQpB,mBAAmB;cAL/B,uDAAS;eAAC;gBACT,QAAQ,EAAE,iBAAiB;gBAC3B,WAAW,EAAE,8BAA8B;gBAC3C,SAAS,EAAE,CAAC,6BAA6B,CAAC;aAC3C;;;;;;;;;;;;;;AEVD;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;ACfnE;AAAA;AAAA;AAAA;AAAA;AAA+C;AAIU;;;AAEzD,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,2EAAwB,gBAAgB,CAAC,0DAAU;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;ACXpC,e;;;;;;;;;;;ACAA,e;;;;;;;;;;;ACAA,e;;;;;;;;;;;ACAA,e","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Injectable } from '@angular/core';\r\nimport { HttpClient} from '@angular/common/http';\r\n\r\ninterface canvasData{\r\n  base64:string;\r\n  is_published:string\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AdminBoardService {\r\n\r\n  base64:string;\r\n\r\n  constructor(private http:HttpClient) { }\r\n\r\n  sendingData(base64,roomCode,userId){\r\n\r\n    this.base64 = base64;\r\n\r\n    const post : canvasData={\r\n      base64 : this.base64,\r\n      is_published : 'true'\r\n    };\r\n\r\n    return this.http.put(`http://0.0.0.0:8080/board/${userId}/${roomCode}` , post , {responseType:'json'});\r\n\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { fabric } from 'fabric';\r\nimport { AdminBoardService } from '../admin-board services/admin-board.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { AuthService,SocialUser } from 'angularx-social-login';\r\n\r\n@Component({\r\n  selector: 'app-admin-board',\r\n  templateUrl: './admin-board.component.html',\r\n  styleUrls: ['./admin-board.component.css'],\r\n})\r\nexport class AdminBoardComponent implements OnInit {\r\n  canvas: fabric.Canvas;\r\n  title = 'adminboard';\r\n  convertedCanvas;\r\n  currentUser:SocialUser;\r\n  userId:string\r\n\r\n  colors = ['aqua', 'BlueViolet', 'orange', 'magenta', 'red', 'blue', 'lime'];\r\n\r\n  selectedColor: string;\r\n  roomCode: string;\r\n  boardTitle: string;\r\n  jsonString: string = '';\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private adminBoardService: AdminBoardService,\r\n    private location: Location,\r\n    private authService:AuthService,\r\n    private snackBar: MatSnackBar\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.canvas = new fabric.Canvas('canvas', {\r\n      backgroundColor: 'white',\r\n      isDrawingMode: false,\r\n    });\r\n\r\n    this.canvas.setHeight(650);\r\n    this.canvas.setWidth(1190);\r\n    this.selectedColor = 'aqua';\r\n\r\n    this.route.queryParams.subscribe((params) => {\r\n      this.roomCode = params['roomCode'];\r\n      this.boardTitle = params['boardTitle'];\r\n    });\r\n\r\n    this.authService.authState.subscribe((user) => {\r\n      this.currentUser=user;\r\n      this.userId=this.currentUser.email;\r\n    });\r\n  }\r\n\r\n  exportJsonAdmin() {\r\n    this.convertedCanvas = this.canvas.toDataURL();\r\n    this.adminBoardService\r\n      .sendingData(this.convertedCanvas, this.roomCode, this.userId)\r\n      .subscribe((responseData) => {\r\n        this.showSnackBar( responseData[\"messages\"][0] , 'OK' );\r\n      });\r\n\r\n    this.location.back();\r\n  }\r\n\r\n  showSnackBar(message: string, action: string): void {\r\n    this.snackBar.open(message, action, {\r\n      duration: 3000,\r\n    });\r\n  }\r\n\r\n  togglePen() {\r\n    this.canvas.isDrawingMode = !this.canvas.isDrawingMode;\r\n  }\r\n\r\n  dialog() {\r\n    fabric.Image.fromURL('../assets/images/dialog.jpg', (img) => {\r\n      const scale = 150 / img.width;\r\n      img.set({\r\n        transparentCorners: false,\r\n        top: 10,\r\n        left: 10,\r\n        scaleX: scale,\r\n        scaleY: scale,\r\n      });\r\n      this.canvas.add(img);\r\n    });\r\n    this.canvas.isDrawingMode = false;\r\n  }\r\n\r\n  cloud() {\r\n    fabric.Image.fromURL('../assets/images/cloud.png', (img) => {\r\n      const scale = 150 / img.width;\r\n      img.set({\r\n        top: 10,\r\n        left: 10,\r\n        scaleX: scale,\r\n        scaleY: scale,\r\n      });\r\n      this.canvas.add(img);\r\n    });\r\n    this.canvas.isDrawingMode = false;\r\n  }\r\n\r\n  reset() {\r\n    if (confirm('Are you sure you want to reset canvas?')) {\r\n      this.canvas.clear();\r\n      this.canvas.isDrawingMode = false;\r\n    }\r\n  }\r\n\r\n  circle() {\r\n    this.canvas.isDrawingMode = false;\r\n    this.canvas.add(\r\n      new fabric.Circle({\r\n        radius: 50,\r\n        fill: this.selectedColor,\r\n        left: 10,\r\n        top: 10,\r\n      })\r\n    );\r\n  }\r\n\r\n  box() {\r\n    this.canvas.isDrawingMode = false;\r\n    this.canvas.add(\r\n      new fabric.Rect({\r\n        width: 100,\r\n        height: 100,\r\n        fill: this.selectedColor,\r\n        left: 10,\r\n        top: 10,\r\n      })\r\n    );\r\n  }\r\n\r\n  triangle() {\r\n    this.canvas.isDrawingMode = false;\r\n    this.canvas.add(\r\n      new fabric.Triangle({\r\n        width: 80,\r\n        height: 80,\r\n        fill: this.selectedColor,\r\n        left: 10,\r\n        top: 10,\r\n      })\r\n    );\r\n  }\r\n\r\n  textBox() {\r\n    this.canvas.isDrawingMode = false;\r\n    this.canvas.add(\r\n      new fabric.Textbox('MyText', {\r\n        width: 150,\r\n        top: 5,\r\n        left: 5,\r\n        stroke: this.selectedColor,\r\n        fontSize: 20,\r\n        fontFamily: 'Verdana',\r\n        textAlign: 'center',\r\n      })\r\n    );\r\n  }\r\n\r\n  changeColor(color) {\r\n    this.selectedColor = color;\r\n  }\r\n\r\n  deleteObjects() {\r\n    this.canvas.isDrawingMode = false;\r\n    var activeObject = this.canvas.getActiveObjects();\r\n    if (activeObject) {\r\n      if (confirm('Are you sure to delete selection?')) {\r\n        activeObject.forEach((object) => {\r\n          this.canvas.remove(object);\r\n        });\r\n      }\r\n      this.canvas.discardActiveObject();\r\n    }\r\n  }\r\n}\r\n","<div style=\"text-align: center;\">\r\n\r\n  <div class=\"button-row\">\r\n\r\n    <div class=\"title\">{{boardTitle}}</div>\r\n\r\n    <div class=\"button-row-right\">\r\n      <button mat-flat-button title=\"Pen\" (click)=\"togglePen()\" color=\"primary\">\r\n        <mat-icon>edit</mat-icon>\r\n      </button>\r\n      <button mat-flat-button title=\"Box\" class=\"addShape\" (click)=\"box()\" color=\"primary\">\r\n        <mat-icon>crop_3_2</mat-icon>\r\n      </button>\r\n      <button mat-flat-button title=\"Circle\" (click)=\"circle()\" color=\"primary\">\r\n        <mat-icon>brightness_1</mat-icon>\r\n      </button>\r\n      <button mat-flat-button title=\"Triangle\" (click)=\"triangle()\" color=\"primary\">\r\n        <mat-icon>change_history</mat-icon>\r\n      </button>\r\n      <button mat-flat-button title=\"Cloud Shape\" (click)=\"cloud()\" color=\"primary\">\r\n        <mat-icon>cloud_queue</mat-icon>\r\n      </button>\r\n      <button mat-flat-button title=\"Dialog Box\" (click)=\"dialog()\" color=\"primary\">\r\n        <mat-icon>chat_bubble_outline</mat-icon>\r\n      </button>\r\n      <button mat-flat-button title=\"TextBox\" (click)=\"textBox()\" color=\"primary\">\r\n        <mat-icon>text_rotation_none</mat-icon>\r\n      </button>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div style=\"display: inline-flex;\">\r\n\r\n    <div class=\"button-col\">\r\n      <div *ngFor=\"let color of colors;\">\r\n        <button mat-mini-fab title={{color}} class={{color}} style=\"border: 1px solid black;\" (click)=\"changeColor(color)\">\r\n          <mat-icon *ngIf=\"selectedColor == color\" [style.color]=\"'black'\">done</mat-icon>\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <canvas id=\"canvas\"></canvas>\r\n\r\n    <div class=\"button-col\">\r\n      <button mat-fab title=\"Reset\" class=\"clearButton\" (click)=\"reset()\" color=\"warn\">\r\n        <mat-icon>settings_backup_restore</mat-icon>\r\n      </button>\r\n      <button mat-fab title=\"Delete\" (click)=\"deleteObjects()\" color=\"warn\">\r\n        <mat-icon>delete_forever</mat-icon>\r\n      </button>\r\n      <button class=\"convertCanvas\" title=\"Save Canvas\" mat-fab (click)=\"exportJsonAdmin()\" color=\"warn\">\r\n        <mat-icon>save</mat-icon>\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { UserBoardComponent } from './user-board/user-board.component';\r\nimport { AdminBoardComponent } from './admin-board/admin-board.component';\r\nimport { ViewBoardsComponent } from './view-boards/view-boards.component';\r\n\r\nconst routes: Routes = [\r\n  { path:'login', component: LoginComponent },\r\n  { path:'home', component: HomeComponent },\r\n  { path:'userboard', component: UserBoardComponent },\r\n  { path:'adminboard', component: AdminBoardComponent },\r\n  { path:'viewboard' ,component: ViewBoardsComponent},\r\n  { path: '', redirectTo:'/login', pathMatch: 'full' }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService, SocialUser } from 'angularx-social-login';\r\nimport { UserService } from './user.service';\r\nimport { Router } from '@angular/router';\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit{\r\n  title:string = 'digi-planner';\r\n  currentUser:SocialUser;\r\n  userType:string;\r\n  constructor(private authService:AuthService,private router:Router){\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.authService.authState.subscribe((user) => {\r\n      this.currentUser = user;\r\n    });  \r\n  }\r\n\r\n  signOut(){\r\n    this.authService.signOut();\r\n  }\r\n\r\n  goToHome(){\r\n    if(this.currentUser){\r\n        this.router.navigate(['/home']);      \r\n    }else{\r\n      console.log('not logged in');\r\n      this.router.navigate(['/login']);\r\n    }\r\n  }  \r\n}\r\n","<mat-toolbar>\r\n  <img src=\"../assets/library.png\" width=\"25\" height=\"25\">\r\n  <span class=\"title\" (click)=\"goToHome()\">   DigiPlanner</span>\r\n  <span class=\"spacer\"></span>\r\n  <span class=\"userIdLabel\" *ngIf=\"currentUser\">{{currentUser.email}}</span>\r\n  <button *ngIf=\"currentUser\" mat-button matTooltip=\"logout\" class=\"logoutBtn\">\r\n    <img  src=\"../assets/exit.png\" width=\"25\" height=\"25\" (click)=\"signOut()\">\r\n  </button>\r\n</mat-toolbar>\r\n\r\n<router-outlet></router-outlet>\r\n\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { AdminBoardComponent } from './admin-board/admin-board.component';\r\nimport { UserBoardComponent } from './user-board/user-board.component';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\n\r\nimport { ShapeService } from './user-board-services/shape.service';\r\nimport { MatModule } from './material.module';\r\n\r\nimport { SocialLoginModule, AuthServiceConfig } from 'angularx-social-login';\r\nimport { GoogleLoginProvider } from 'angularx-social-login';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { JoinRoomDialogComponent } from './join-room-dialog/join-room-dialog.component';\r\nimport { ViewBoardsComponent } from './view-boards/view-boards.component';\r\nimport { CreateBoardDialogComponent } from './create-board-dialog/create-board-dialog.component';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n// import { SocketIoModule, SocketIoConfig } from 'ngx-socket-io';\r\n\r\nimport { clientId } from './constants';\r\n\r\n\r\nconst config = new AuthServiceConfig([\r\n  {\r\n    id: GoogleLoginProvider.PROVIDER_ID,\r\n    provider: new GoogleLoginProvider(clientId)\r\n  },\r\n]);\r\n\r\n// const socketConfig: SocketIoConfig = { url: 'http://localhost:4200', options: {} };\r\n\r\nexport function provideConfig() {\r\n  return config;\r\n}\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LoginComponent,\r\n    AdminBoardComponent,\r\n    UserBoardComponent,\r\n    HomeComponent,\r\n    JoinRoomDialogComponent,\r\n    ViewBoardsComponent,\r\n    CreateBoardDialogComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    HttpClientModule,\r\n    SocialLoginModule,\r\n    BrowserAnimationsModule,\r\n    MatModule,\r\n    AppRoutingModule,\r\n    HttpClientModule,\r\n    // SocketIoModule.forRoot(socketConfig),\r\n  ],\r\n  entryComponents: [\r\n    JoinRoomDialogComponent,\r\n    CreateBoardDialogComponent\r\n  ],\r\n  providers: [\r\n    ShapeService,\r\n    {\r\n      provide: AuthServiceConfig,\r\n      useFactory: provideConfig\r\n    }\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient} from '@angular/common/http';\r\nimport { URI } from './constants';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BoardService {\r\n\r\n  constructor(private http:HttpClient) { }\r\n  \r\n  isExist(userId:string,room_code:string){\r\n    return this.http.get(`${URI}/room/${userId}/${room_code}`);\r\n  }\r\n  \r\n  createBoard(room_code:string,board_title:string,userId:string){\r\n   return this.http.post(`${URI}/board/${userId}/${room_code}`,{room_title: board_title});\r\n  }\r\n\r\n  addJoinedRoom(room_code:string,userId:string) {\r\n    return this.http.post(`${URI}/room/${userId}/${room_code}`,{});\r\n  }\r\n\r\n  viewBoard(userId:string) {\r\n    return this.http.get(`${URI}/user/${userId}`);\r\n  }\r\n}\r\n","const PORT:string = '8080';\r\nconst URI:string = `http://0.0.0.0:${PORT}`;\r\n//const clientId:string='610664320073-4ik734pbbflijv056jr130n5k6e7ia8q.apps.googleusercontent.com';\r\nconst clientId:string = '610664320073-4oui7dgr99meb3n28m5ljp25f65fmf79.apps.googleusercontent.com';\r\nexport {URI,clientId};\r\n","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MAT_DIALOG_DATA,MatDialogRef } from '@angular/material/dialog';\r\nimport { BoardService } from '../board.service';\r\n\r\n@Component({\r\n  selector: 'app-create-board-dialog',\r\n  templateUrl: './create-board-dialog.component.html',\r\n  styleUrls: ['./create-board-dialog.component.css']\r\n})\r\nexport class CreateBoardDialogComponent implements OnInit {\r\n  isexist:boolean = false;\r\n  emptyRoomCode:boolean=true;\r\n  emptyBoardtitle:boolean=true;\r\n\r\n  constructor(@Inject(MAT_DIALOG_DATA) public data:any,\r\n    public dialogRef:MatDialogRef<CreateBoardDialogComponent>,\r\n    private boardService:BoardService) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onCancel(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  validateTitle(boardtitle:string){\r\n    this.emptyBoardtitle = boardtitle ? false : true;\r\n  }\r\n  validateRoomCode(roomcode:string){\r\n    if(roomcode && roomcode.length>=4){\r\n      this.boardService.isExist(this.data.userId,roomcode).subscribe((result) => {\r\n        this.isexist = result['success'];\r\n        this.emptyRoomCode = false;\r\n      },\r\n      (err) => {\r\n        this.isexist = false;\r\n        this.emptyRoomCode = false;\r\n      }  \r\n      );\r\n    }else{\r\n      this.isexist = false;\r\n      this.emptyRoomCode=true;\r\n    }\r\n    \r\n  }\r\n}\r\n","<h2 mat-dialog-title>Enter Board details:</h2>\r\n<mat-form-field>\r\n    <mat-label>Enter board title:</mat-label>\r\n    <input matInput [(ngModel)]=\"data.boardTitle\" (input)=\"validateTitle(data.boardTitle)\" required>\r\n  </mat-form-field>\r\n  <br>\r\n<mat-form-field>\r\n    <mat-label>Enter room code(Min 4 characters):</mat-label>\r\n    <input matInput [(ngModel)]=\"data.roomCode\" (input)=\"validateRoomCode(data.roomCode)\" required>\r\n</mat-form-field>\r\n<p *ngIf=\"isexist\" class=\"warning\">roomcode already exist</p>\r\n<mat-dialog-actions>\r\n    <button mat-button (click)=\"onCancel()\" >Cancel</button>\r\n    <button mat-button  [mat-dialog-close]=\"data\" [disabled]=\"isexist || emptyRoomCode || emptyBoardtitle\">Create</button>\r\n</mat-dialog-actions>","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { JoinRoomDialogComponent } from '../join-room-dialog/join-room-dialog.component';\r\nimport { CreateBoardDialogComponent } from '../create-board-dialog/create-board-dialog.component';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService,SocialUser } from 'angularx-social-login';\r\nimport { BoardService } from '../board.service';\r\nimport { UserService } from '../user.service';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  isAdmin:boolean = false;\r\n  isUser:boolean = false;\r\n  inH:number;\r\n  currentUser:SocialUser;\r\n  constructor(private route:ActivatedRoute,\r\n      private dialog:MatDialog,\r\n      private snackBar:MatSnackBar,\r\n      private router:Router,\r\n      private authService:AuthService,\r\n      private boardService:BoardService,\r\n      private userService:UserService) {\r\n    this.inH = window.innerHeight*0.9;\r\n   }\r\n\r\n  ngOnInit(): void {\r\n    this.authService.authState.subscribe((user) => {\r\n      this.currentUser = user;\r\n      if(!this.currentUser){\r\n        this.router.navigate(['/login']);\r\n      } else {\r\n        this.userService.getUserType(this.currentUser.email).subscribe((result) => {\r\n          if(result['success']) {\r\n            let data = result['data'];\r\n            let userType = data['roles'][0] === 1 ? 'admin' : 'user';\r\n            this.isAdmin = userType === 'admin' ? true : false;\r\n            this.isUser = userType === 'user' ? true : false;\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  createBoard():void {\r\n    let dialogRef = this.dialog.open(CreateBoardDialogComponent,{\r\n      data:{boardTitle:null,roomCode:null,userId:this.currentUser.email}\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if(result && result.roomCode && result.boardTitle) {\r\n        let roomCode:string=result.roomCode;\r\n        let boardTitle:string=result.boardTitle;\r\n\r\n        this.boardService.createBoard(roomCode,boardTitle,this.currentUser.email).subscribe((result) => {\r\n          if(result['success'] === true) {\r\n            this.showSnackBar('Board created!','OK');\r\n            this.router.navigate(['/adminboard'],{\r\n              queryParams:{roomCode:roomCode, boardTitle:boardTitle}\r\n            });\r\n          } else {\r\n            this.showSnackBar('cannot create board!','cancel');\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n        }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  joinBoard():void {\r\n    let dialogRef = this.dialog.open(JoinRoomDialogComponent,{\r\n      data:{roomCode:null,userId:this.currentUser.email}\r\n    });\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if(result) {\r\n        this.boardService.addJoinedRoom(result,this.currentUser.email).subscribe((value) => {\r\n          if(value['success']){\r\n            this.showSnackBar('Now joining room','OK');\r\n            this.router.navigate(['/userboard'],{queryParams:{room_code:result}});\r\n          }else{\r\n            this.showSnackBar('Unable to join room','cancel');\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n          this.showSnackBar('Unable to join room','cancel');\r\n        }\r\n        );\r\n      } else {\r\n        this.showSnackBar('Please enter the room code to join','cancel');\r\n      }\r\n    });\r\n  }\r\n\r\n  showSnackBar(message:string,action:string):void {\r\n    this.snackBar.open(message,action,{\r\n      duration:3000\r\n    });\r\n  }\r\n\r\n  viewBoard():void {\r\n    this.router.navigate(['/viewboard']);\r\n  }\r\n}\r\n","\r\n<mat-grid-list cols=\"2\" [rowHeight]=\"inH\">\r\n    <mat-grid-tile colspan=\"1\" rowspan=\"1\" >\r\n        <img class=\"image_illus\" src=\"../../assets/illustration.png\" width=\"500\" height=\"400\">\r\n    </mat-grid-tile>\r\n    <mat-grid-tile colspan=\"1\" rowspan=\"1\" >\r\n        <div>\r\n        <button mat-button class=\"card\" *ngIf=\"isAdmin\" (click)=\"createBoard()\">\r\n            <img class=\"icon\" src=\"../../assets/strategy.png\" width=\"48\" height=\"48\">\r\n            Create New Board\r\n        </button>\r\n        <br><br>\r\n        <button mat-button class=\"card\" *ngIf=\"isAdmin || isUser\" (click)=\"joinBoard()\">\r\n            <img class=\"icon\" src=\"../../assets/meeting-room.png\" width=\"48\" height=\"48\">\r\n            Join Board\r\n        </button>\r\n        <br><br>\r\n        <button mat-button class=\"card\" *ngIf=\"isAdmin || isUser\" (click)=\"viewBoard()\">\r\n            <img class=\"icon\" src=\"../../assets/eye.png\" width=\"50\" height=\"50\">\r\n            View Existing Boards\r\n        </button>\r\n        </div> \r\n    </mat-grid-tile>\r\n</mat-grid-list>\r\n<router-outlet></router-outlet>","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MAT_DIALOG_DATA,MatDialogRef } from '@angular/material/dialog';\r\nimport { BoardService } from '../board.service';\r\n\r\n@Component({\r\n  selector: 'app-join-room-dialog',\r\n  templateUrl: './join-room-dialog.component.html',\r\n  styleUrls: ['./join-room-dialog.component.css']\r\n})\r\nexport class JoinRoomDialogComponent implements OnInit {\r\n  isexist:boolean = true;\r\n  emptyRoomCode:boolean = true;\r\n  message:string='';\r\n  constructor(@Inject(MAT_DIALOG_DATA) public data:any,\r\n    public dialogRef:MatDialogRef<JoinRoomDialogComponent>,\r\n    private boardService:BoardService) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void { \r\n  }\r\n\r\n  onCancel(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  validateRoomCode(roomcode:string){\r\n    if(roomcode && roomcode.length>=4){\r\n      this.boardService.isExist(this.data.userId,roomcode).subscribe((result) => {\r\n        console.log(result);\r\n        if(result['success']){\r\n          if(result['messages'][0] === 'Room Id exists and is accessible'){\r\n            this.isexist = true;\r\n          }else{\r\n            this.isexist = false;\r\n            this.message = result['messages'][0];\r\n          }\r\n        }else{\r\n          this.isexist = false;\r\n          this.message = result['messages'][0];\r\n        }\r\n        this.emptyRoomCode = false;\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        this.isexist = false;\r\n        this.message = 'room code does not exist';\r\n      }  \r\n      );\r\n    }else{\r\n      this.isexist = true;\r\n      this.emptyRoomCode=true;\r\n    }\r\n  }\r\n}\r\n","<h2 mat-dialog-title>Room Code</h2>\r\n<mat-form-field>\r\n    <mat-label>Enter room code(Min 4 characters):</mat-label>\r\n    <input matInput [(ngModel)]=\"data.roomCode\" (input)=\"validateRoomCode(data.roomCode)\" required>\r\n</mat-form-field>\r\n<p *ngIf=\"!isexist\" class=\"warning\">{{message}}</p>\r\n<mat-dialog-actions>\r\n    <button mat-button (click)=\"onCancel()\" >Cancel</button>\r\n    <button mat-button  [mat-dialog-close]=\"data.roomCode\" [disabled]=\"!isexist || emptyRoomCode\">Join</button>\r\n</mat-dialog-actions>","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService, SocialUser, GoogleLoginProvider } from 'angularx-social-login';\r\nimport { UserService } from '../user.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  currentUser:SocialUser;\r\n  userType:string=\"admin\";\r\n  inH:number;\r\n  isLoggedIn:boolean = true;\r\n  constructor(\r\n    private authService:AuthService,\r\n    private userService:UserService,\r\n    private snackBar:MatSnackBar,\r\n    private router:Router){\r\n      this.inH = window.innerHeight*0.9;\r\n  }\r\n\r\n  ngOnInit():void {\r\n    this.authService.authState.subscribe((user)=>{\r\n      this.currentUser = user;\r\n      if(this.currentUser){\r\n        this.router.navigate(['/home']);\r\n      }else{\r\n        this.isLoggedIn = false;\r\n      }\r\n    }); \r\n  }\r\n\r\n  onChange(event):void {   \r\n    this.userType=event.value;\r\n  }\r\n\r\n  signIn():void {\r\n    this.authService.signIn(GoogleLoginProvider.PROVIDER_ID).then((user) => {\r\n      if(user){\r\n        this.userService.getUserType(user.email).subscribe((result) => {\r\n          console.log(result['success']);\r\n          if(result['success']){\r\n            let data = result['data'];\r\n            console.log(data);\r\n            if((data['roles'][0] === 1 && this.userType === 'admin') || (data['roles'][0] === 2 && this.userType === 'user')) {\r\n                this.showSnackBar('Login Successful','cancel');\r\n                this.router.navigate(['/home']);\r\n            } else {\r\n                this.signOut();\r\n                this.showSnackBar('invalid user or usertype!','cancel');\r\n            } \r\n          }else{\r\n            this.signOut();\r\n            this.showSnackBar(result['messages'],'cancel');\r\n          }\r\n        }); \r\n      }\r\n    }).catch(error => {\r\n      console.log(error);\r\n      this.showSnackBar('Error in signing in','cancel');\r\n    });\r\n  }\r\n\r\n  signOut():void {\r\n    this.authService.signOut();\r\n  }\r\n\r\n  showSnackBar(message:string,action:string):void {\r\n    this.snackBar.open(message,action,{\r\n      duration:3000,\r\n    });\r\n  }\r\n\r\n}\r\n","<div *ngIf=\"!isLoggedIn\">\r\n    <mat-grid-list cols=\"2\" [rowHeight]=\"inH\">\r\n        <mat-grid-tile colspan=\"1\" rowspan=\"1\" >\r\n            <img class=\"image_illus\" src=\"../../assets/illustration.png\" width=\"500\" height=\"400\">\r\n        </mat-grid-tile>\r\n        <mat-grid-tile colspan=\"1\" rowspan=\"1\" >\r\n            <div *ngIf=\"!currentUser\" class=\"loginForm\">\r\n                    <h2>Select user type and sign in:</h2>\r\n                    <mat-radio-group #typeOfUser (change)=\"onChange($event)\" class=\"radioBtn\">\r\n                        <mat-radio-button value=\"admin\" color=\"accent\" checked=\"true\">Admin</mat-radio-button>\r\n                        <mat-radio-button value=\"user\">User</mat-radio-button>\r\n                    </mat-radio-group><br>\r\n                    <button mat-button class=\"card\" (click)=\"signIn()\">\r\n                        <span><img src=\"../../assets/icons-google.png\" width=\"30\" height=\"30\" class=\"gIcon\"></span>\r\n                        <span class=\"btnText\">Sign in with Google</span>\r\n                    </button>\r\n            </div>\r\n        </mat-grid-tile>\r\n    </mat-grid-list>\r\n</div>","import { NgModule } from '@angular/core';\r\n\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatGridListModule } from '@angular/material/grid-list';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n\r\n@NgModule({\r\n exports: [\r\n    MatToolbarModule,\r\n    MatButtonModule,\r\n    MatRadioModule,\r\n    MatSnackBarModule,\r\n    MatCardModule,\r\n    MatTooltipModule,\r\n    MatGridListModule,\r\n    MatDialogModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    FormsModule,\r\n    MatIconModule,\r\n ]\r\n})\r\n\r\nexport class MatModule{ }\r\n\r\n","import { Injectable, OnInit } from '@angular/core';\r\n// import { Socket } from 'ngx-socket-io';\r\nimport * as io from 'socket.io-client';\r\nimport { fabric } from 'fabric';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class SocketService {\r\n  private url = \"http://0.0.0.0:8080\";\r\n  public socket;\r\n  constructor() {\r\n  }\r\n\r\n  connect(){\r\n    this.socket = io(this.url);\r\n  }\r\n\r\n  sendGroup(group: fabric.Group, id: string) {\r\n    this.socket.emit('groupAltered',\r\n      [{\r\n        id: group.id,\r\n        left: group.left,\r\n        top: group.top,\r\n        angle: group.angle,\r\n        scaleX: group.scaleX,\r\n        scaleY: group.scaleY\r\n      },\r\n      id]);\r\n  }\r\n\r\n  somethingAdded(shape: string, color: string, id: string) {\r\n    this.socket.emit('addedObject', [shape, color, id]);\r\n  }\r\n\r\n  somethingModified(groupId: any, currentUser, id: string) {\r\n    this.socket.emit('modifiedObject', [groupId, currentUser, id]);\r\n  }\r\n\r\n  clearCanvas(canvas: fabric.Canvas, id: string) {\r\n    this.socket.emit('clearCanvas', [canvas, id]);\r\n  }\r\n\r\n  colorChange(data, color: string, id: string) {\r\n    this.socket.emit('colorChange', [data, color, id]);\r\n  }\r\n\r\n  joinRoom(id: string) {\r\n    this.socket.emit('joinRoom', id);\r\n  }\r\n\r\n  deleteGroup(data, id: string) {\r\n    this.socket.emit('deleteGroup', [data, id]);\r\n  }\r\n\r\n  regr(text: any, textId: any, id: string) {\r\n    this.socket.emit('regrouping', [text, textId, id]);\r\n  }\r\n\r\n  drawLines(can: any) {\r\n    const arr = [can.f, can.s, can.roomId];\r\n    this.socket.emit('drawingLines', arr);\r\n  }\r\n\r\n  disconnect(){\r\n    if(this.socket){\r\n      this.socket.removeAllListeners();\r\n      this.socket.close();\r\n      this.socket = undefined;\r\n    }\r\n  }\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { GroupService } from '../user-board-services/group.service';\r\nimport { ShapeService } from '../user-board-services/shape.service';\r\nimport { fabric } from 'fabric';\r\nimport { SocketService } from './socket.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class UserSocketService {\r\n  roomId;\r\n  constructor(\r\n    private groupService: GroupService,\r\n    private shapeService: ShapeService,\r\n    private socketService: SocketService\r\n  ) { }\r\n\r\n  init(canvas, renderer, roomId) {\r\n    this.roomId = roomId;\r\n    this.socketService.joinRoom(this.roomId);\r\n\r\n    this.socketService.socket.on('groupAltered', (data) => {\r\n      document.getElementById('deleteBtn')?.remove();\r\n      for (const obj of canvas.getObjects()) {\r\n        if (obj instanceof fabric.Group) {\r\n          if (obj.id === data.id) {\r\n            obj.left = data.left;\r\n            obj.top = data.top;\r\n            obj.scaleX = data.scaleX;\r\n            obj.scaleY = data.scaleY;\r\n            obj.angle = data.angle || 0;\r\n            this.groupService.moveLines(obj);\r\n            obj.setCoords();\r\n            canvas.renderAll();\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    this.socketService.socket.on('addedObject', (data) => {\r\n      if (data[0] === 'rect') {\r\n        this.shapeService.addRectangle(canvas, renderer, data[1]);\r\n      } else if (data[0] === 'ellipse') {\r\n        this.shapeService.addEllipse(canvas, renderer, data[1]);\r\n      } else {\r\n        this.shapeService.addTriangle(canvas, renderer, data[1]);\r\n      }\r\n    });\r\n\r\n    this.socketService.socket.on('modifiedObject', (data) => {\r\n      const h = data[0];\r\n      document.getElementById('deleteBtn')?.remove();\r\n      let gr;\r\n      for (const ob of canvas._objects) {\r\n        if (ob.id === h) {\r\n          gr = ob;\r\n          break;\r\n        }\r\n      }\r\n      const shape = gr._objects[0];\r\n      const text = gr._objects[1];\r\n      text.fill = '#7f8c8d';\r\n      text.fontStyle = 'italic';\r\n      shape.set('opacity', 0.7);\r\n      text.set('text', `${data[1].firstName} is editing`);\r\n      this.groupService.unGroup(gr, canvas);\r\n      text.lockMovementX = false;\r\n      text.lockMovementY = false;\r\n    });\r\n\r\n    this.socketService.socket.on('regrouping', (h: any) => {\r\n      document.getElementById('deleteBtn')?.remove();\r\n      let g: fabric.Group;\r\n      for (const ob of this.groupService.selectedGroup){\r\n        if (ob.id === h[1]){\r\n          g = ob;\r\n          break;\r\n        }\r\n      }\r\n      const shape = g._objects[0];\r\n      const text = g._objects[1];\r\n      text.fill = '#333';\r\n      text.fontStyle = 'normal';\r\n      text.set('text', h[0]);\r\n      shape.set('opacity', 1);\r\n      this.groupService.regroup(shape, text, canvas, renderer);\r\n    });\r\n\r\n    this.socketService.socket.on('clearCanvas', (can) => {\r\n      canvas.clear();\r\n      this.shapeService.setBackground(canvas, 'assets');\r\n      document.getElementById('deleteBtn')?.remove();\r\n    });\r\n\r\n    this.socketService.socket.on('colorChange', (data) => {\r\n      let gr;\r\n      for (const ob of canvas._objects) {\r\n        if (ob.id === data[0]) {\r\n          gr = ob;\r\n          break;\r\n        }\r\n      }\r\n      const text = gr._objects[1];\r\n      const shape = gr._objects[0];\r\n      this.groupService.unGroup(gr, canvas);\r\n      shape.fill = data[1];\r\n      this.groupService.regroup(shape, text, canvas, renderer);\r\n    });\r\n\r\n    this.socketService.socket.on('deleteGroup', (data) => {\r\n      let gr;\r\n      for (const ob of canvas._objects) {\r\n        if (ob.id === data) {\r\n          gr = ob;\r\n          break;\r\n        }\r\n      }\r\n      this.groupService.delete(canvas, gr);\r\n    });\r\n\r\n    this.socketService.socket.on('drawingLines', (data: any) => {\r\n      const h = {\r\n        f: data[0],\r\n        s: data[1],\r\n      };\r\n      for (const obj of canvas._objects) {\r\n        if (h.f === obj.id) {\r\n          canvas.selectedElements.push(obj);\r\n        }\r\n        if(h.s === obj.id){\r\n          canvas.selectedElements.push(obj);\r\n        }\r\n      }\r\n      this.groupService.drawLineTwoPoints(canvas);\r\n      canvas.selectedElements.splice(0, 2);\r\n    });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ConstantsService {\r\n\r\n  HideControls: object;\r\n  userBackURL: string;\r\n  starIconURL: string;\r\n  PORT: string;\r\n  URI: string;\r\n  clientId: string;\r\n  colors: Array<string>;\r\n  connectText: string;\r\n  disconnectText: string;\r\n  public userID: string;\r\n  public roomID: string;\r\n\r\n\r\n  constructor() {\r\n    this.HideControls = { tl: true, tr: false, bl: true, br: true, ml: true, mt: true, mr: true, mb: true, mtr: true };\r\n    this.userBackURL = '../../assets/user_back.png';\r\n    this.PORT = '8080';\r\n    this.URI = `http://0.0.0.0:${this.PORT}`;\r\n    this.starIconURL = '../assets/stars-black-48dp.svg';\r\n    this.colors = ['CornflowerBlue', 'darkcyan', 'MediumAquaMarine', 'lemonchiffon', 'gold', 'silver', 'salmon', 'palevioletred', 'pink'];\r\n    this.connectText = 'Connect';\r\n    this.disconnectText = 'Exit Connection Mode';\r\n   }\r\n}\r\n","import { Injectable, Renderer2 } from '@angular/core';\r\nimport { fabric } from 'fabric';\r\nimport { ScalingService } from './scaling.service';\r\nimport { ConstantsService } from './constants.service';\r\nimport { SocketService } from '../socket-services/socket.service';\r\nimport { UserDatabaseService } from './user-database.service';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class GroupService {\r\n  selectedGroup: Array<fabric.Group> = [];\r\n  givingId;\r\n  currentUser;\r\n  constructor(private scalingService: ScalingService, private constants: ConstantsService,\r\n              private socketService: SocketService, private userDatabase: UserDatabaseService) {\r\n    this.givingId = 0;\r\n    this.currentUser = 'Unknown';\r\n  }\r\n\r\n  makeLine(coords: fabric.Point) {\r\n    return new fabric.Line(coords, {\r\n      stroke: 'black',\r\n      strokeWidth: 2,\r\n      opacity: 0.6,\r\n      selectable: false,\r\n      preserveObjectStacking: true,\r\n    });\r\n  }\r\n\r\n  createGroup(shape: fabric.Object, text: fabric.Itext, canvas: fabric.Canvas, x: number, y: number,\r\n              connections: Array<{ name: string; line: fabric.Line; connectedWith: fabric.Group; i: any; }>,\r\n              renderer: Renderer2, groupID: number, editing: boolean,\r\n              angle: number, scaleX: number, scaleY: number): fabric.Group {\r\n    this.scalingService.scaleShapes(shape, text.getBoundingRect());\r\n    const group = new fabric.Group([shape, text], {\r\n      angle,\r\n      scaleX,\r\n      scaleY,\r\n      left: x,\r\n      top: y,\r\n      connections,\r\n      isEditable: true,\r\n    });\r\n    if (groupID === -1) {\r\n      group.id = this.givingId;\r\n      text.id = this.givingId;\r\n      this.givingId += 1;\r\n      canvas.givingId = this.givingId;\r\n    }\r\n    else{\r\n      group.id = groupID;\r\n      text.id = groupID;\r\n    }\r\n    group.type = 'group';\r\n    group.editing = editing;\r\n    group.setControlsVisibility(this.constants.HideControls);\r\n    this.addEventListeners(canvas, group, renderer);\r\n    canvas.add(group);\r\n    this.userDatabase.sendingCanvas(canvas.toJSON(['id', 'connections', 'givingId', 'editing']));\r\n    return group;\r\n  }\r\n\r\n  doubleClickEvent(obj, handler) {\r\n    return () => {\r\n      if (obj.clicked) {\r\n        handler(obj);\r\n      } else {\r\n        obj.clicked = true;\r\n        setTimeout(() => {\r\n          obj.clicked = false;\r\n        }, 500);\r\n      }\r\n    };\r\n  }\r\n\r\n  unGroup(group: fabric.Group, canvas: fabric.Canvas) {\r\n    this.selectedGroup.push(group);\r\n    group.editing = true;\r\n    this.userDatabase.sendingCanvas(canvas.toJSON(['id', 'connections', 'givingId', 'editing']));\r\n    const items = group._objects;\r\n    group._restoreObjectsState();\r\n    canvas.remove(group);\r\n    for (const item of items) {\r\n      canvas.add(item);\r\n    }\r\n    canvas.renderAll();\r\n  }\r\n\r\n  regroup(shape: fabric.Object, text: fabric.IText,\r\n          canvas: fabric.Canvas, renderer: Renderer2) {\r\n    let g: fabric.Group;\r\n    let  u = 0;\r\n    for (const ob of this.selectedGroup){\r\n      if (ob.id === text.id){\r\n        g = ob;\r\n        break;\r\n      }\r\n      u++;\r\n    }\r\n    const groupCoord = g.getPointByOrigin(0, 0);\r\n    canvas.remove(shape);\r\n    canvas.remove(text);\r\n    this.createGroup(\r\n      shape,\r\n      text,\r\n      canvas,\r\n      groupCoord.x,\r\n      groupCoord.y,\r\n      g.connections,\r\n      renderer,\r\n      g.id,\r\n      false,\r\n      g.angle,\r\n      g.scaleX,\r\n      g.scaleY\r\n    );\r\n    this.selectedGroup.splice(u, 1);\r\n    this.userDatabase.sendingCanvas(canvas.toJSON(['id', 'connections', 'givingId', 'editing']));\r\n  }\r\n\r\n  drawLineTwoPoints(canvas: fabric.Canvas) {\r\n    const group1 = canvas.selectedElements[0];\r\n    const group2 = canvas.selectedElements[1];\r\n    const line = this.makeLine([\r\n      group1.getCenterPoint().x,\r\n      group1.getCenterPoint().y,\r\n      group2.getCenterPoint().x,\r\n      group2.getCenterPoint().y,\r\n    ]);\r\n    canvas.add(line);\r\n    canvas.sendToBack(line);\r\n    group1.connections.push({ name: 'p1', line, connectedGroup: group2.id });\r\n    group2.connections.push({ name: 'p2', line, connectedGroup: group1.id });\r\n    canvas.connect = false;\r\n    canvas.connectButtonText = this.constants.connectText;\r\n    this.userDatabase.sendingCanvas(canvas.toJSON(['id', 'connections', 'givingId', 'editing']));\r\n  }\r\n\r\n  moveLines(group: fabric.Group) {\r\n    const newPoint = group.getCenterPoint();\r\n    for (const connection of group.connections) {\r\n      if (connection.name === 'p1') {\r\n        connection.line.set({\r\n          x1: newPoint.x,\r\n          y1: newPoint.y,\r\n        });\r\n      } else {\r\n        connection.line.set({\r\n          x2: newPoint.x,\r\n          y2: newPoint.y,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  delete(canvas: fabric.Canvas, gr?: fabric.Group) {\r\n    let group;\r\n    if (gr) {\r\n      group = gr;\r\n    } else {\r\n      group = canvas.getActiveObject();\r\n      this.socketService.deleteGroup(group.id, this.constants.roomID);\r\n    }\r\n    for (const connection of group.connections) {\r\n      // tslint:disable-next-line: forin\r\n      for (const index in connection.connectedGroup.connections) {\r\n        const otherGroupConnections = connection.connectedGroup.connections;\r\n        if (otherGroupConnections[index].connectedGroup === group) {\r\n          otherGroupConnections.splice(index, 1);\r\n        }\r\n      }\r\n      canvas.remove(connection.line);\r\n    }\r\n    canvas.remove(group);\r\n    canvas.renderAll();\r\n    this.userDatabase.sendingCanvas(canvas.toJSON(['id', 'connections', 'givingId', 'editing']));\r\n  }\r\n\r\n  addDeleteBtn(x: number, y: number, canvas: fabric.Canvas, renderer: Renderer2) {\r\n    document.getElementById('deleteBtn')?.remove();\r\n    const btnLeft = x - 10;\r\n    const btnTop = y - 10;\r\n    const delteBtn = renderer.createElement('img');\r\n    delteBtn.id = 'deleteBtn';\r\n    delteBtn.src = '../assets/icons8-delete.svg';\r\n    delteBtn.style = `position:absolute;\r\n    top:${btnTop}px;\r\n    left:${btnLeft}px;\r\n    cursor:pointer;\r\n    width:20px;\r\n    height:20px;`;\r\n    renderer.appendChild(document.getElementsByClassName('canvas-container')[0], delteBtn);\r\n    document.getElementById('deleteBtn').addEventListener('click', (event) => {\r\n      this.delete(canvas);\r\n    });\r\n    this.userDatabase.sendingCanvas(canvas.toJSON(['id', 'connections', 'givingId', 'editing']));\r\n  }\r\n\r\n  addEventListeners(canvas: fabric.Canvas, group: fabric.Group, renderer: Renderer2) {\r\n    group.on('selected', (e) => {\r\n      this.addDeleteBtn(\r\n        group.oCoords.tr.x,\r\n        group.oCoords.tr.y,\r\n        canvas,\r\n        renderer\r\n      );\r\n    });\r\n\r\n    group.on('modified', (e) => {\r\n      this.addDeleteBtn(\r\n        group.oCoords.tr.x,\r\n        group.oCoords.tr.y,\r\n        canvas,\r\n        renderer\r\n      );\r\n    });\r\n\r\n    group.on('scaling', (e) => {\r\n      document.getElementById('deleteBtn')?.remove();\r\n      this.socketService.sendGroup(group, this.constants.roomID);\r\n    });\r\n\r\n    group.on('moving', (e) => {\r\n      document.getElementById('deleteBtn')?.remove();\r\n      if (group.connections.length > 0) {\r\n        this.moveLines(group);\r\n        canvas.renderAll();\r\n      }\r\n      this.socketService.sendGroup(group, this.constants.roomID);\r\n    });\r\n\r\n    group.on('rotating', (e) => {\r\n      document.getElementById('deleteBtn')?.remove();\r\n      this.socketService.sendGroup(group, this.constants.roomID);\r\n    });\r\n\r\n    group.on('removed', (e) => {\r\n      document.getElementById('deleteBtn')?.remove();\r\n    });\r\n\r\n    group.on(\r\n      'mousedown',\r\n      this.doubleClickEvent(group, () => {\r\n        if (canvas.connect) {\r\n          canvas.selectedElements.push(group);\r\n          if (canvas.selectedElements.length === 2) {\r\n            this.drawLineTwoPoints(canvas);\r\n            this.socketService.drawLines({\r\n              f: canvas.selectedElements[0].id,\r\n              s: canvas.selectedElements[1].id,\r\n              roomId: this.constants.roomID,\r\n            }, );\r\n            canvas.selectedElements.pop();\r\n            canvas.selectedElements.pop();\r\n          }\r\n        } else {\r\n          group.isEditable = false;\r\n          this.socketService.somethingModified(group.id, this.currentUser, this.constants.roomID);\r\n          this.unGroup(group, canvas);\r\n          const text1 = group._objects[1];\r\n          text1.lockMovementX = false;\r\n          text1.lockMovementY = false;\r\n          canvas.setActiveObject(text1);\r\n          text1.enterEditing();\r\n          text1.selectAll();\r\n        }\r\n      })\r\n    );\r\n\r\n    canvas.on('mouse:down', (e) => {\r\n      if (!canvas.getActiveObject()) {\r\n        document.getElementById('deleteBtn')?.remove();\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { fabric } from 'fabric';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ScalingService {\r\n\r\n  constructor() { }\r\n\r\n\r\n  scaleShapes(shape: fabric.Object, textBoundingRect) {\r\n    let resize = false;\r\n    const height = shape.height * shape.scaleY;\r\n    const width = shape.width * shape.scaleX;\r\n    resize = this.compareTextShape(shape, height, textBoundingRect.height) || this.compareTextShape(shape, width, textBoundingRect.width);\r\n\r\n    if (shape instanceof fabric.Ellipse && resize) {\r\n      if (shape.width < textBoundingRect.width) {\r\n        shape.width = textBoundingRect.width + 60;\r\n      }\r\n      if (shape.height < textBoundingRect.height) {\r\n        shape.height = textBoundingRect.height + 60;\r\n      }\r\n      shape.rx = shape.width / 2;\r\n      shape.ry = shape.height / 2;\r\n    }\r\n  }\r\n\r\n  compareTextShape(shape: fabric.Shape, shapeDimen: number, textDimen: number): boolean {\r\n if (shape instanceof fabric.Rect){\r\n    if (shapeDimen < textDimen) {\r\n      (shape.height * shape.scaleY) === shapeDimen ? shape.height = textDimen + 20 : shape.width = textDimen + 20;\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n if (shape instanceof fabric.Triangle){\r\n  if (shapeDimen / 2 < textDimen) {\r\n    if ((shape.height * shape.scaleY) === shapeDimen) {\r\n      shape.height = Math.max(shapeDimen, textDimen) * 1.5;\r\n      shape.width *= 1.5;\r\n    }\r\n    else {\r\n      shape.width = Math.max(shapeDimen, textDimen) * 2;\r\n      shape.height *= 1.5;\r\n     }\r\n    return true;\r\n  }\r\n  return false;\r\n  }\r\n return true;\r\n }\r\n}\r\n","import { Injectable, Renderer2 } from '@angular/core';\r\nimport { fabric } from 'fabric';\r\nimport { GroupService } from './group.service';\r\nimport { UserDatabaseService } from './user-database.service';\r\nimport { ConstantsService } from './constants.service';\r\nimport { SocketService } from '../socket-services/socket.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ShapeService {\r\n  private image: fabric.Image;\r\n\r\n  constructor(\r\n    private groupService: GroupService,\r\n    private userDatabaseService: UserDatabaseService,\r\n    private constants: ConstantsService,\r\n    private socketService: SocketService\r\n  ) {}\r\n\r\n  initCanvas(renderer: Renderer2){\r\n    this.image = null;\r\n    fabric.Object.prototype.transparentCorners = false;\r\n    const canvas = new fabric.Canvas('canvas', {\r\n      hoverCursor: 'pointer',\r\n      selection: true,\r\n    });\r\n    canvas.setHeight(650);\r\n    canvas.setWidth(1200 - 10);\r\n    canvas.selectedElements = [];\r\n    canvas.selectedColor = this.constants.colors[0];\r\n    this.getTitleFromDatabase(canvas, renderer);\r\n    return canvas;\r\n  }\r\n\r\n  setBackground(canvas: fabric.Canvas, base64: string) {\r\n    canvas.connect = false;\r\n    canvas.connectButtonText = 'Connect';\r\n    if (this.image) {\r\n      canvas.setBackgroundImage(this.image);\r\n      canvas.renderAll();\r\n    } else {\r\n      const imageEle = new Image();\r\n      imageEle.src = base64;\r\n      imageEle.onload = () => {\r\n        this.image = new fabric.Image(imageEle, {\r\n          width: canvas.width,\r\n          height: canvas.height,\r\n          opacity: 0.7,\r\n        });\r\n        canvas.setBackgroundImage(this.image);\r\n        canvas.renderAll();\r\n      };\r\n    }\r\n  }\r\n\r\n  addEllipse(canvas: fabric.Canvas, renderer: Renderer2, color?: string) {\r\n    const ellipse = new fabric.Ellipse({\r\n      originX: 'center',\r\n      originY: 'center',\r\n      fill: color ? color : canvas.selectedColor,\r\n      rx: 100,\r\n      ry: 50,\r\n      stroke: 'black',\r\n      strokeWidth: 0.3,\r\n      selectable: false,\r\n    });\r\n    this.addText(ellipse, canvas, renderer, 'Double click to edit', -1, 100, 100, false, 0, 1, 1);\r\n  }\r\n\r\n  addRectangle(canvas: fabric.Canvas, renderer: Renderer2, color?: string) {\r\n    const rect = new fabric.Rect({\r\n      originX: 'center',\r\n      originY: 'center',\r\n      width: 200,\r\n      height: 100,\r\n      rx: 10,\r\n      ry: 10,\r\n      stroke: 'black',\r\n      strokeWidth: 0.3,\r\n      fill: color ? color : canvas.selectedColor,\r\n      selectable: false,\r\n      strokeLineJoin: 'round',\r\n    });\r\n    this.addText(rect, canvas, renderer, 'Double click to edit', -1, 100, 100, false, 0, 1, 1);\r\n  }\r\n\r\n  addTriangle(canvas: fabric.Canvas, renderer: Renderer2, color?: string){\r\n    const triangle = new fabric.Triangle({\r\n      originX: 'center',\r\n      originY: 'center',\r\n      width: 200,\r\n      height: 150,\r\n      rx: 10,\r\n      ry: 10,\r\n      stroke: 'black',\r\n      strokeWidth: 0.3,\r\n      fill: color ? color : canvas.selectedColor,\r\n      selectable: false,\r\n      strokeLineJoin: 'round',\r\n    });\r\n    this.addText(triangle, canvas, renderer, 'Double \\ntap to edit', -1, 100, 100, false, 0, 1, 1);\r\n  }\r\n\r\n  addText(\r\n    shape: fabric.Object,\r\n    canvas: fabric.Canvas,\r\n    renderer: Renderer2,\r\n    textVal: string,\r\n    groupID: number,\r\n    x: number,\r\n    y: number,\r\n    editing: boolean,\r\n    angle: number,\r\n    scaleX: number,\r\n    scaleY: number) {\r\n    const text = new fabric.IText(textVal, {\r\n      fill: '#333',\r\n      charSpacing : 100,\r\n      fontSize: 15,\r\n      originX: 'center',\r\n      originY: 'center',\r\n      textAlign: 'center',\r\n      fontFamily:  'Trebuchet MS',\r\n      top: 0,\r\n      left: 0,\r\n      selectable: false,\r\n    });\r\n    this.addTextListener(canvas, shape, text, renderer);\r\n    return this.groupService.createGroup(shape, text, canvas, x, y, [], renderer, groupID, editing, angle, scaleX, scaleY);\r\n  }\r\n\r\n  addTextListener(canvas, shape, text, renderer){\r\n    text.on('editing:exited', () => {\r\n      this.socketService.regr(text.text, text.id, this.constants.roomID);\r\n      this.groupService.regroup(shape, text, canvas, renderer);\r\n    });\r\n  }\r\n\r\n  changeColor(canvas: fabric.Canvas, color: string, renderer: Renderer2) {\r\n    canvas.selectedColor = color;\r\n    const group = canvas.getActiveObject();\r\n    if (group) {\r\n      const shape = group._objects[0];\r\n      const text = group._objects[1];\r\n      this.socketService.colorChange(\r\n        group.id,\r\n        color,\r\n        this.constants.roomID\r\n      );\r\n      this.groupService.unGroup(group, canvas);\r\n      shape.fill = color;\r\n      this.groupService.regroup(shape, text, canvas, renderer);\r\n      for (const obj of canvas._objects) {\r\n        if (obj.id === text.id) {\r\n          canvas.setActiveObject(obj);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  getTitleFromDatabase(canvas: fabric.Canvas, renderer) {\r\n    this.constants.roomID === 'unknown'\r\n      ? (canvas.boardTitle = 'UserUI')\r\n      : this.userDatabaseService.getRoomData().subscribe(\r\n          (roomData) => {\r\n            canvas.boardTitle = roomData.data.room_data.room_title;\r\n            if (roomData.data.room_data.canvas_json) {this.loadCanvas(canvas, JSON.parse(roomData.data.room_data.canvas_json), renderer); }\r\n            this.setBackground(canvas, roomData.data.room_data.base64);\r\n          },\r\n          (error) => {\r\n            canvas.boardTitle = 'UserUI';\r\n            this.setBackground(canvas, this.constants.userBackURL);\r\n          }\r\n        );\r\n  }\r\n\r\n  loadCanvas(canvas: fabric.Canvas, canvasJson, renderer: Renderer2){\r\n    const newCanvas = new fabric.Canvas();\r\n    newCanvas.loadFromJSON(canvasJson);\r\n    this.groupService.givingId = newCanvas.givingId;\r\n    canvas.givingId = newCanvas.givingId;\r\n    const groupArray = [];\r\n    for (const object of newCanvas._objects){\r\n      if (object.type === 'group'){\r\n        const shape = object._objects[0];\r\n        const groupCoord = object.getPointByOrigin(0, 0);\r\n        const group = this.addText(shape, canvas, renderer, object._objects[1].text, object.id, groupCoord.x,\r\n                                   groupCoord.y, object.editing, object.angle, object.scaleX, object.scaleY);\r\n        groupArray.push(group);\r\n      }\r\n    }\r\n\r\n    for (const group of groupArray){\r\n      for (const object of newCanvas._objects){\r\n        if (object.id === group.id){\r\n          this.drawLinesWhileLoading(canvas, object, group);\r\n        }\r\n      }\r\n    }\r\n\r\n    for (const group of groupArray){\r\n      if (group.editing){\r\n        const shape = group._objects[0];\r\n        const text = group._objects[1];\r\n        text.fill = '#7f8c8d';\r\n        text.fontStyle = 'italic';\r\n        shape.set('opacity', 0.7);\r\n        text.set('text', ` Someone is editing`);\r\n        this.ungroupOnLoad(group, canvas);\r\n        text.lockMovementX = false;\r\n        text.lockMovementY = false;\r\n      }\r\n    }\r\n    canvas.renderAll();\r\n  }\r\n\r\n  ungroupOnLoad(group, canvas){\r\n    this.groupService.selectedGroup.push(group);\r\n    group.editing = true;\r\n    const items = group._objects;\r\n    group._restoreObjectsState();\r\n    canvas.remove(group);\r\n    for (const item of items) {\r\n      item.selectable = false;\r\n      canvas.add(item);\r\n    }\r\n  }\r\n\r\n  drawLinesWhileLoading(canvas, object, group){\r\n    canvas.selectedElements.push(group);\r\n    for (const connection of object.connections){\r\n      if (connection.name === 'p1'){\r\n        for (const connectedGroup of canvas._objects){\r\n          if (connectedGroup.id === connection.connectedGroup){\r\n            canvas.selectedElements.push(connectedGroup);\r\n            this.groupService.drawLineTwoPoints(canvas);\r\n            canvas.selectedElements.pop();\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    canvas.selectedElements.pop();\r\n  }\r\n}\r\n\r\nexport class MockShapeService {\r\n  initCanvas(url: string) {\r\n    const canvas = {\r\n      selectedColor: 'cornsilk',\r\n      connect: false,\r\n      connectButtonText: 'Connect',\r\n      selectedElements: [],\r\n      _objects: [1, 2],\r\n      clear: () => {\r\n        canvas._objects = [];\r\n      },\r\n    };\r\n    return canvas;\r\n  }\r\n\r\n  changeColor(canvas, color) {\r\n    canvas.selectedColor = color;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient} from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { ConstantsService } from './constants.service';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserDatabaseService {\r\n\r\n  constructor(private http: HttpClient, private constants: ConstantsService) { }\r\n\r\n  sendingCanvas(canvasJSON: any){\r\n    delete canvasJSON.backgroundImage;\r\n    this.http.put(`http://0.0.0.0:4200/board/${this.constants.userID}/${this.constants.roomID}`,\r\n      {canvas_json: JSON.stringify(canvasJSON)}, {responseType: 'json'})\r\n      .subscribe( responseData => {});\r\n   }\r\n\r\n  getRoomData(): Observable<RoomData> {\r\n    return this.http.get(`${this.constants.URI}/board/${this.constants.userID}/${this.constants.roomID}`) as Observable<RoomData>;\r\n  }\r\n}\r\n\r\ninterface RoomData{\r\n  success: string;\r\n  data: { room_data: {\r\n    canvas_json: string,\r\n    base64: string,\r\n    room_title: string,\r\n  }\r\n};\r\n}\r\n","import { Component, OnInit, Renderer2, OnDestroy } from '@angular/core';\r\nimport { fabric } from 'fabric';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ShapeService } from '../user-board-services/shape.service';\r\nimport { ConstantsService } from '../user-board-services/constants.service';\r\nimport { SocketService } from '../socket-services/socket.service';\r\nimport { UserSocketService } from '../socket-services/user-socket.service';\r\nimport { AuthService, SocialUser } from 'angularx-social-login';\r\nimport { GroupService } from '../user-board-services/group.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { UserDatabaseService } from '../user-board-services/user-database.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-user-board',\r\n  templateUrl: './user-board.component.html',\r\n  styleUrls: ['./user-board.component.css'],\r\n})\r\nexport class UserBoardComponent implements OnInit, OnDestroy {\r\n  canvas: fabric.Canvas;\r\n  boardTitle: string;\r\n\r\n  constructor(\r\n    private shapeService: ShapeService,\r\n    private groupService: GroupService,\r\n    private renderer: Renderer2,\r\n    private route: ActivatedRoute,\r\n    public constants: ConstantsService,\r\n    private socketService: SocketService,\r\n    private userSocketService: UserSocketService,\r\n    private authService: AuthService,\r\n    private snackBar: MatSnackBar,\r\n    private userDatabase: UserDatabaseService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.constants.roomID = this.route.snapshot.queryParamMap.get('room_code') || 'unknown';\r\n    this.socketService.connect();\r\n    this.canvas = this.shapeService.initCanvas(this.renderer);\r\n    this.userSocketService.init(this.canvas, this.renderer, this.constants.roomID);\r\n    this.authService.authState.subscribe((user) => {\r\n      this.groupService.currentUser = user;\r\n      this.constants.userID = user.email;\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void{\r\n    // this.socketService.socket.emit('disconnect');\r\n    this.socketService.disconnect();\r\n  }\r\n\r\n  addObj(shape) {\r\n    this.socketService.somethingAdded(\r\n      shape,\r\n      this.canvas.selectedColor,\r\n      this.constants.roomID,\r\n    );\r\n  }\r\n\r\n  addEllipse() {\r\n    this.shapeService.addEllipse(this.canvas, this.renderer);\r\n    this.addObj('ellipse');\r\n  }\r\n\r\n  addRectangle() {\r\n    this.shapeService.addRectangle(this.canvas, this.renderer);\r\n    this.addObj('rect');\r\n  }\r\n\r\n  addTriangle() {\r\n    this.shapeService.addTriangle(this.canvas, this.renderer);\r\n    this.addObj('triangle');\r\n  }\r\n\r\n  clear() {\r\n      this.canvas.clear();\r\n      this.shapeService.setBackground(this.canvas, 'assets');\r\n      this.socketService.clearCanvas(this.canvas, this.constants.roomID);\r\n      document.getElementById('deleteBtn')?.remove();\r\n      this.userDatabase.sendingCanvas(this.canvas.toJSON(['id', 'connections', 'givingId', 'editing']));\r\n  }\r\n\r\n  showSnackBar(message: string, action: string): void {\r\n    const snackBarRef = this.snackBar.open(message, action, {\r\n      duration: 3000,\r\n    });\r\n    snackBarRef.onAction().subscribe(() => {\r\n      this.clear();\r\n    });\r\n  }\r\n\r\n  connect() {\r\n    if (this.canvas.connect) {\r\n      this.canvas.connect = false;\r\n      this.canvas.connectButtonText = this.constants.connectText;\r\n    }\r\n    else {\r\n      while (this.canvas.selectedElements.length > 0) {\r\n        this.canvas.selectedElements.pop();\r\n      }\r\n      this.canvas.connect = true;\r\n      this.canvas.connectButtonText = this.constants.disconnectText;\r\n    }\r\n  }\r\n\r\n  exportAsImage(canvasContent) {\r\n    // for IE, Edge\r\n    if (canvasContent.msToBlob) {\r\n      const blob = canvasContent.msToBlob();\r\n      window.navigator.msSaveBlob(blob, 'board-image.png');\r\n    } else {\r\n      // other browsers\r\n      const image = canvasContent\r\n        .toDataURL('image/png', 1.0)\r\n        .replace('image/png', 'image/octet-stream');\r\n      const link = document.createElement('a');\r\n      link.download = 'board-image.png';\r\n      link.href = image;\r\n      link.click();\r\n    }\r\n  }\r\n\r\n  changeColor(color: string) {\r\n    this.shapeService.changeColor(this.canvas, color, this.renderer);\r\n  }\r\n}\r\n","<div style=\"text-align: center;\">\r\n\r\n  <div class=\"button-row\">\r\n\r\n    <div class=\"title\">{{canvas.boardTitle}}</div>\r\n\r\n    <div class=\"button-row-right\">\r\n\r\n      <button mat-flat-button (click)=\"addRectangle()\" color=\"accent\" [disabled]=\"canvas.connect\">\r\n        <mat-icon>crop_3_2</mat-icon>\r\n        Rectangle\r\n      </button>\r\n      <button mat-flat-button (click)=\"addEllipse()\" color=\"accent\" [disabled]=\"canvas.connect\">\r\n        <mat-icon>radio_button_unchecked</mat-icon>\r\n        Ellipse\r\n      </button>\r\n      <button mat-flat-button (click)=\"addTriangle()\" color=\"accent\" [disabled]=\"canvas.connect\">\r\n        <mat-icon>change_history</mat-icon>\r\n        Triangle\r\n      </button>\r\n      <button class=\"connectButton\" mat-flat-button (click)=\"connect()\" color=\"accent\">\r\n        <mat-icon>timeline</mat-icon>\r\n        {{canvas.connectButtonText}}\r\n      </button>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div id=\"canvas-div\" style=\"display: inline-flex;\">\r\n\r\n    <div class=\"button-col\">\r\n      <div *ngFor=\"let color of constants.colors;\">\r\n        <button mat-mini-fab class={{color}} style=\"border: 1px solid darkslategray;\" (click)=\"changeColor(color)\">\r\n          <mat-icon *ngIf=\"canvas.selectedColor == color\" [style.color]=\"'black'\">done</mat-icon>\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <canvas id=\"canvas\" #canvasContent></canvas>\r\n\r\n    <div class=\"button-col\">\r\n      <button mat-fab class=\"clearButton redButton but-col-right\" matTooltip=\"Clear Screen\" matTooltipPosition='after'\r\n        color=\"warn\" (click)=\"showSnackBar('Do you want to clear the screen?','OK')\" [disabled]=\"canvas.connect\">\r\n        <mat-icon>layers_clear</mat-icon>\r\n      </button>\r\n\r\n      <button mat-fab class=\"redButton but-col-right\" matTooltip=\"Export\" matTooltipPosition='after' color=\"warn\"\r\n        (click)=\"exportAsImage(canvasContent)\">\r\n        <mat-icon>cloud_download</mat-icon>\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <p class=\"mat-h2 noteEle\" *ngIf=\"canvas.connect\"> Note: Double click on any two cards to\r\n    connect.{{canvas.selectedElements.length}} selected </p>\r\n\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient} from '@angular/common/http';\r\nimport { URI } from './constants';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n  constructor(private http:HttpClient) { }\r\n  \r\n  getUserType(email:string){\r\n    return this.http.get(`${URI}/user/${email}`);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { SocialUser, AuthService } from 'angularx-social-login';\r\nimport { BoardService } from '../board.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-view-boards',\r\n  templateUrl: './view-boards.component.html',\r\n  styleUrls: ['./view-boards.component.css']\r\n})\r\nexport class ViewBoardsComponent implements OnInit {\r\n  currentUser:SocialUser;\r\n  boards:any;\r\n  constructor(private router:Router,\r\n    private authService:AuthService,\r\n    private boardService:BoardService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.authService.authState.subscribe((user) => {\r\n      this.currentUser = user;\r\n      if(!this.currentUser){\r\n        this.router.navigate(['/login']);\r\n      }\r\n    });\r\n    this.boardService.viewBoard(this.currentUser.email).subscribe((result) => {\r\n      if(result['success']){\r\n        let data = result['data'];\r\n        this.boards = data.boards;\r\n      }else{\r\n        console.log('unable to fetch boards');\r\n      }\r\n    });\r\n  }\r\n}\r\n","\r\n<h2 class=\"title\">Existing Boards</h2>\r\n\r\n<div *ngFor='let board of boards' class=\"card\">\r\n    <div class=\"container\">\r\n        <p class=\"btitle\"><b>{{board.room_title}}</b></p>\r\n        <p class=\"roomCode\">Room Code: {{board.room_id}}</p>\r\n    </div>\r\n    <button mat-button class=\"viewBtn\">\r\n        <a routerLink='/userboard' [queryParams]='{room_code: board.room_id}'>View</a>\r\n    </button>\r\n</div>\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */"],"sourceRoot":"webpack:///"}